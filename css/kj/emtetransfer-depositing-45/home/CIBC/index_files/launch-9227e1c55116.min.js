// For license information, see `https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/launch-9227e1c55116.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2023-02-24T12:19:29Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"ENcccce6c2b0dc48e298f4dbc7c9306f62",stage:"production"},dataElements:{events_appointment_set:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.appointmentSet?1:0}}},digitalData_chat_type:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.chat.type"}},digitalData_share_type:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.share.type"}},digitalData_transaction_amount_in:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};if("object"==typeof e&&"object"==typeof e.events&&e.events.formSubmit&&"object"==typeof e.transaction&&"object"==typeof e.transaction.items&&null!=e.transaction.items){for(var t=0,n=e.transaction.items,a=_satellite.getVar("digitalData_form_name"),i=0;i<n.length;i++)n[i].hasOwnProperty("amount")&&null!=n[i].amount&&("reclaim-etransfers"!=a&&"stop-etransfers"!=a&&"receive-etransfers"!=a&&"cancel-etransfer-chatbot"!=a||(t+=parseFloat(n[i].amount)));return t}return 0}}},digitalData_conversation_interactionname:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.conversation.interactionName"}},digitalData_transaction_currency:{defaultValue:"CAD",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{},t=function(e,t,n){return n.indexOf(e)===t};if("object"==typeof e&&"object"==typeof e.events&&e.events.formSubmit&&"object"==typeof e.transaction&&"object"==typeof e.transaction.items&&null!=e.transaction.items){for(var n=[],a=e.transaction.items,i=0;i<a.length;i++)a[i].hasOwnProperty("from")&&a[i].from.hasOwnProperty("currency")&&n.push(a[i].from.currency);return(n=n.filter(t)).join(",")}return _satellite.logger.log("transaction currency failed to fetch"),"CAD"}}},events_target_offer_display:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.TOImpression||digitalData.events.offerDisplay?1:0}}},events_conversation_complete:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.conversationComplete?1:0}}},digitalData_page_consumption:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.pageView?"+1":""}}},events_target_offer_complete:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.offerComplete?1:0}}},medallia_form_type:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"medallia-for-adobe-launch/lib/dataElements/form-type.js",settings:{}},digitalData_site_version:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("digitalData_site_app_version")+":"+_satellite.getVar("digitalData_site_lastBuildDate")+":"+_satellite.getVar("digitalData_site_name_final")+":"+_satellite.getVar("digitalData_site_type")}}},events_video_start:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.videoStart?1:0}}},digitalData_prefill_method:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.form.prefillMethod"}},events_page_view_count:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.pageView?1:0}}},digitalData_form_name:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData&&"object"==typeof digitalData.form&&"string"==typeof digitalData.form.name?digitalData.form.name:_satellite.getVar("digitalData_page_function")&&_satellite.getVar("digitalData_page_module")&&_satellite.getVar("digitalData_form_step_name")&&"object"==typeof digitalData&&"object"==typeof digitalData.events&&1==digitalData.events.formStep?_satellite.getVar("digitalData_page_function")+"-"+_satellite.getVar("digitalData_page_module"):""}}},events_paperless:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.paperless?1:0}}},events_otvc_prompt:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.OTVCprompt?1:0}}},launch_code_version:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t="",n="";if(_satellite){e=_satellite.property.name?_satellite.property.name.trim():"",t=_satellite._container.buildInfo.environment?_satellite._container.buildInfo.environment.trim():"";var a=new Date(_satellite.buildInfo.buildDate),i=a.getDate(),r=a.getMonth();n=a.getFullYear()+"."+(r+1)+"."+i}return e+"|"+t+"|"+n}}},events_video_segment_75:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.videoMilestone75?1:0}}},digitalData_list1_analytics:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){if("undefined"!=typeof digitalData&&void 0!==digitalData.advertising){for(var e=[],t=0;t<digitalData.advertising.length;t++){var n=[],a=digitalData.advertising[t];n.push(a.trackingCode||"na"),n.push(a.location||"na"),n.push(a.type||"na"),e.push(n.join("_"))}return e.join(",")}return""}function t(){if("undefined"!=typeof digitalData&&void 0!==digitalData.targetOffer){for(var e=[],t=0;t<digitalData.targetOffer.length;t++){var n=[],a=digitalData.targetOffer[t];n.push(a.campaign||"na"),n.push(a.treatment||"na"),n.push(a.topic||"na"),n.push(a.cell||"na"),n.push(a.strategy||"na"),n.push("string"==typeof a.startDate?a.startDate.substring(0,10):"na"),n.push("string"==typeof a.endDate?a.endDate.substring(0,10):"na"),e.push(n.join("_"))}return e.join(",")}return""}var n=e(),a=t();return n||a||""}}},medallia_event_name:{defaultValue:"",modulePath:"medallia-for-adobe-launch/lib/dataElements/event-name.js",settings:{}},digitalData_site_lastBuildDate:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.lastBuildDate"}},digitalData_info_message_id:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.infoMessage.ID"}},events_lead:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.lead?1:0}}},digitalData_user_id:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.ID"}},aep_xdm_experience_conversation_interaction_event:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%digitalData_link_name%",type:"%custom_action_type%",linkClicks:{value:"%events_custom_action%"}},webPageDetails:{URL:"%digitalData_page_url_no_qp%",name:"%digitalData_full_page_name%",siteSection:"%digitalData_site_name_final%"}},_experience:{analytics:{event1to100:{event1:{id:"%events_form_view_serialization%",value:"%events_form_view%"},event2:{id:"%events_form_submit_serialization%",value:"%events_form_submit%"},event3:{value:"%events_errors%"},event4:{value:"%events_form_step%"},event5:{id:"%events_form_qualify_serialization%",value:"%events_form_qualify%"},event6:{value:"%events_appointment_set%"},event7:{value:"%events_form_resume%"},event8:{value:"%events_form_prefill%"},event19:{value:"%events_login%"},event21:{value:"%events_file_download%"},event22:{value:"%events_exit%"},event23:{value:"%events_social_share%"},event24:{value:"%events_site_interaction%"},event25:{value:"%events_branch_search%"},event26:{id:"%events_chat_popup_serialization%",value:"%events_chat_popup%"},event27:{id:"%events_chat_start_serialization%",value:"%events_chat_start%"},event28:{id:"%events_chat_end_serialization%",value:"%events_chat_end%"},event31:{value:"%events_compare_cards%"},event35:{value:"%events_registration%"},event39:{value:"%events_interactive_tool_start%"},event40:{value:"%events_interactive_tool_complete%"},event41:{id:"%events_transaction_complete_serialization%",value:"%events_transaction_complete%"},event42:{id:"%digitalData_transaction_amount_serialization%",value:"%digitalData_transaction_amount%"},event43:{value:"%digitalData_transaction_units%"},event44:{value:"%digitalData_transaction_fees%"},event45:{value:"%digitalData_transaction_amount_in%"},event46:{value:"%digitalData_transaction_amount_out%"},event47:{value:"%digitalData_transaction_amount_circulated%"},event48:{value:"%events_cross_border_transaction%"},event51:{value:"%events_site_search%"},event53:{value:"%events_site_search_filter%"},event61:{value:"%events_video_start%"},event62:{value:"%events_video_segment_25%"},event63:{value:"%events_video_segment_50%"},event64:{value:"%events_video_segment_75%"},event65:{value:"%events_video_complete%"},event67:{value:"%events_video_segment%"},event71:{value:"%events_target_offer_display%"},event72:{value:"%events_target_offer_impression%"},event73:{value:"%events_target_offer_accept%"},event74:{value:"%events_target_offer_decline%"},event75:{value:"%events_target_offer_defer%"},event76:{value:"%events_advertisement_impression%"},event77:{value:"%events_advertisement_click%"},event78:{value:"%events_target_offer_complete%"},event81:{value:"%events_product_pageview%"},event82:{id:"%events_application_complete_serialization%",value:"%events_application_complete%"},event87:{value:"%events_system_cancelled%"},event88:{value:"%events_lead%"},event89:{value:"%events_add_product%"},event90:{value:"%events_remove_product%"},event91:{id:"%events_application_personal_details_serialization%",value:"%events_application_personal_details%"},event92:{id:"%events_application_product_recommendations_serialization%",value:"%events_application_product_recommendations%"},event93:{id:"%events_application_summary_serialization%",value:"%events_application_summary%"},event94:{id:"%events_application_fulfillment_serialization%",value:"%events_application_fulfillment%"},event95:{id:"%events_application_terms_conditions_serialization%",value:"%events_application_terms_conditions%"},event96:{id:"%events_application_confirmation_serialization%",value:"%events_application_confirmation%"}},event101to200:{event111:{value:"%events_otvc_prompt%"},event112:{value:"%events_otvc_success%"},event113:{value:"%events_info_message_view%"},event121:{id:"%events_conversation_start_serialization%",value:"%events_conversation_start%"},event122:{id:"%events_conversation_complete_serialization%",value:"%events_conversation_complete%"},event123:{value:"%events_conversation_interaction%"},event124:{value:"%events_conversation_intent%"},event125:{value:"%digitalData_conversation_confidencerating%"}},customDimensions:{eVars:{eVar1:"%digitalData_form_name%",eVar3:"%digitalData_errors%",eVar4:"%digitalData_form_step_name%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar17:"%digitalData_authentication_type%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar21:"%digitalData_download_filename%",eVar22:"%digitalData_exit_linkURL%",eVar23:"%digitalData_share_type%",eVar24:"%digitalData_interaction_name%",eVar26:"%digitalData_chat_id%",eVar27:"%digitalData_chat_type%",eVar30:"%time_parting%",eVar41:"%digitalData_transaction_from_to_frequency%",eVar51:"%digitalData_search_term%",eVar52:"%digitalData_search_results%",eVar53:"%digitalData_search_filter%",eVar61:"%digitalData_video_name%",eVar62:"%digitalData_video_segment_id%",eVar71:"%digitalData_target_offer_final%",eVar100:"%sc_products%",eVar101:"%gtag_ga_user_id%",eVar113:"%digitalData_info_message_id%",eVar121:"%digitalData_conversation_id%",eVar122:"%digitalData_conversation_intent_interaction_name%",eVar123:"%digitalData_conversation_interface_type_name%"},lists:{list1:{list:"%digitalData_list1%"}},props:{prop1:"%digitalData_form_name%",prop3:"%digitalData_errors%",prop4:"%digitalData_form_step_name%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop24:"%digitalData_interaction_name%",prop27:"%digitalData_chat_type%",prop30:"%time_parting%",prop39:"%digitalData_interactive_tool_name%",prop50:"%launch_code_version%",prop51:"%digitalData_search_term%",prop52:"%digitalData_search_results%",prop53:"%digitalData_search_filter%",prop54:"%digitalData_search_currentPage%",prop61:"%digitalData_video_name%",prop62:"%digitalData_video_segment_id%",prop71:"%digitalData_target_offer_final%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%",productListItems:"%digitalData_products%"},sandbox:{name:"cibc-development"}}},events_chat_start_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_chat_start%",rightOperand:1,conditionalValue:"%digitalData_chat_id%"}},root_domain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.hostname.split(".").reverse().splice(0,2).reverse().join(".")}}},digitalData_full_page_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return null!=_satellite.getVar("digitalData_site_brand")&&""!=_satellite.getVar("digitalData_site_brand")&&(e+=_satellite.getVar("digitalData_site_brand")),null!=_satellite.getVar("digitalData_site_name_final")&&""!=_satellite.getVar("digitalData_site_name_final")&&(e+=">"+_satellite.getVar("digitalData_site_name_final")),""!=_satellite.getVar("digitalData_sc_hier")&&(e+=">"+_satellite.getVar("digitalData_sc_hier")),""!=_satellite.getVar("digitalData_page_name")&&(e+=">"+_satellite.getVar("digitalData_page_name")),e}}},digitalData_chat_rating:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.conversation.confidenceRating"}},tracking_server:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"analytic.cibc.com"}}},events_form_view:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.formView?1:0}}},events_video_complete:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.videoComplete?1:0}}},gtag_ga_product_items:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{},t=_satellite.getVar("gtag_ga_product_translation")||{},n=function(e){return(e=String(e)).replace(/[,;=|]/g,"")},a=function(e){if("object"==typeof e)return"string"==typeof e.ID?n(e.ID):"string"==typeof e.id?n(e.id):"string"==typeof e.sku&&n(e.sku)};return function(e){var n=[];if("object"==typeof e.products)for(var i in e.products){var r=!1,o=e.products[i],s=a(o);if(s){(r={}).id=s;var c=t[s];"object"==typeof c&&(r.name=c.name,r.category=c.category,r.variant=c.variant,r.brand=c.brand),"string"==typeof o.positioning&&(r.product_positioning=o.positioning,null==r.app_declined&&"declined"==o.positioning&&(r.app_declined=1),null==r.application_not_eligible&&"not-eligible"==o.positioning&&(r.application_not_eligible=1)),"string"==typeof o.grouping?r.product_grouping=o.grouping:r.product_grouping="no-grouping","string"==typeof o.parentProduct&&(r.parent_product=o.parentProduct),"string"==typeof o.originalProduct&&(r.original_product=o.originalProduct),"string"==typeof o.fulfilment&&(r.fulfillment_method=o.fulfilment||o.fulfillment),!0===o.recommended&&(r.recommended_product=1),r&&n.push(r)}}return n.length>0?n:void _satellite.logger.log("Couldnt load product items for eCommerce tracking")}(e)}}},digitalData_page_url_no_qp:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof digitalData&&"object"==typeof digitalData.page)return _satellite.getVar("digitalData_page_url").replace(/\?.+/,"");_satellite.logger.log("page url with no query parameter")}}},digitalData_hierarchy_2:{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_sc_hier_global")||"";return""!=e?e.split(">"):[""]}}},is_paperless:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.events.paperless"}},events_form_resume:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.formResume?1:0}}},digitalData_transaction_ID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData?"object"==typeof digitalData.transaction?"string"==typeof digitalData.transaction.ID||"number"==typeof digitalData.transaction.ID?digitalData.transaction.ID.toString():"string"==typeof digitalData.transaction.id||"number"==typeof digitalData.transaction.id?digitalData.transaction.id.toString():"":"object"!=typeof digitalData.form||"string"!=typeof digitalData.form.uniqueID&&"number"!=typeof digitalData.form.uniqueID?"":digitalData.form.uniqueID.toString():""}}},digitalData_chat_id:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.chat.id"}},digitalData_form_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData?"object"==typeof digitalData.transaction?"string"==typeof digitalData.transaction.ID||"number"==typeof digitalData.transaction.ID?digitalData.transaction.ID.toString():"string"==typeof digitalData.transaction.id||"number"==typeof digitalData.transaction.id?digitalData.transaction.id.toString():"":"object"!=typeof digitalData.form||"string"!=typeof digitalData.form.uniqueID&&"number"!=typeof digitalData.form.uniqueID?"":digitalData.form.uniqueID.toString():""}}},digitalData_page_sub_category:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_page_path")||"";if(""!=e){var t=e.split(".");return _satellite.getVar("digitalData_site_name_final")+">"+t[0]}return""}}},events_form_submit:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.formSubmit?1:0}}},digitalData_transaction_units:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData&&"object"==typeof digitalData.events&&window.digitalData.events.formSubmit&&"object"==typeof digitalData.transaction&&"object"==typeof digitalData.transaction.items&&null!=digitalData.transaction.items?digitalData.transaction.items.length:0}}},host_name:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.location.hostname}}},digitalData_internal_ad_details:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData&&void 0!==digitalData.advertising){for(var e=[],t={},n=[],a=0;a<digitalData.advertising.length;a++){var i=[],r=digitalData.advertising[a];i.push(r.trackingCode||"na"),i.push(r.location||"na"),i.push(r.type||"na"),e.push(i.join("_"))}return t.value=e.join(","),n.push(t),n}return[{value:""}]}}},aep_xdm_experience_medallia_survey_invited:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"survey-invited",type:"other",linkClicks:{value:1}},webPageDetails:{URL:"%digitalData_page_url%",name:"%digitalData_full_page_name%",siteSection:"%digitalData_site_name_final%"}},_experience:{analytics:{event1to100:{event3:{value:"%events_errors%"},event24:{value:1},event57:{value:1}},customDimensions:{eVars:{eVar3:"%digitalData_errors%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar21:"%digitalData_download_filename%",eVar22:"%digitalData_exit_linkURL%",eVar23:"%digitalData_share_type%",eVar24:"survey-invited",eVar55:"%medallia_survey_id_type%",eVar56:"%medallia_feedback_uuid%",eVar101:"%gtag_ga_user_id%"},props:{prop3:"%digitalData_errors%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop24:"survey-invited",prop50:"%launch_code_version%",prop55:"%medallia_survey_id_type%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%"},sandbox:{name:"cibc-development"}}},custom_action_type:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.download?"download":digitalData.events.exit?"exit":"other"}}},digitalData_conversation_intent_interaction_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(null!=_satellite.getVar("digitalData_conversation_intent")&&null!=_satellite.getVar("digitalData_conversation_interactionname"))return _satellite.getVar("digitalData_conversation_intent")+":"+_satellite.getVar("digitalData_conversation_interactionname")}}},events_cross_border_transaction:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.crossBorderTransaction?1:0}}},events_application_personal_details:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.applicationPersonalDetails?1:0}}},digitalData_page_url:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof digitalData&&"object"==typeof digitalData.page&&document.location.href.replace(/(\?|\#).+/,"")==digitalData.page.url)return digitalData.page.url.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,"");_satellite.logger.log("Referring the page url");var e=document.location.href;return-1!=e.indexOf("?")?e.split("?")[1].split("&").length>1?e.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,""):e.replace(/\?(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,""):e.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,"")}}},events_form_submit_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_form_submit%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},digitalData_user_segment:{defaultValue:"na",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.segment"}},ga4_dev_account_id:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"G-ZWSQN43RHF"}},events_application_fulfillment_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_fulfillment%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},events_purchase:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.purchase?1:0}}},digitalData_errors:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData&&void 0!==digitalData.events&&digitalData.events.error&&"object"==typeof digitalData.errors){for(var e=[],t=0;t<digitalData.errors.length;t++){var n=[],a=digitalData.errors[t];n.push(a.code||a.id||"na"),n.push(a.field||"na"),n.push(a.type||"na"),n.push(a.subtype||"na"),e.push(n.join(":"))}return e.join(",")}return""}}},events_form_view_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_form_view%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},digitalData_site_name_raw:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.name"}},events_target_offer_decline:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.TODefer||digitalData.events.offerDecline?1:0}}},events_site_interaction:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.siteInteraction?1:0}}},events_custom_action:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.pageView?0:1}}},ga4_digitalData_download_filetype:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.download.fileType"}},events_remove_product:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.removeProduct?1:0}}},digitalData_interactive_tool_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.interactiveTool.name"}},events_file_download:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.download?1:0}}},digitalData_page_language:{defaultValue:"en",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.language"}},digitalData_link_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof digitalData&&"object"==typeof digitalData.events){var e="";for(var t in window.digitalData.events)if(digitalData.events.hasOwnProperty(t)&&1==digitalData.events[t]){e=t;break}return e}}}},events_advertisement_impression:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.advertisingImpression?1:0}}},digitalData_page_referrer:{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};if(void 0!==e&&void 0!==e.page&&void 0!==e.page.referrer&&""!=e.page.referrer){var t=e.page.referrer;return-1!=t.indexOf("?")?t.split("?")[1].split("&").length>1?t.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,""):t.replace(/\?(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,""):t.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,"")}return""}}},digitalData_search_term:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.siteSearch.term"}},aep_xdm_experience_interaction_events:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%digitalData_link_name%",type:"%custom_action_type%",linkClicks:{value:"%events_custom_action%"}},webPageDetails:{URL:"%digitalData_page_url%",name:"%digitalData_full_page_name%",siteSection:"%digitalData_site_name_final%"}},_experience:{analytics:{event1to100:{event3:{value:"%events_errors%"},event19:{value:"%events_login%"},event21:{value:"%events_file_download%"},event22:{value:"%events_exit%"},event23:{value:"%events_social_share%"},event24:{value:"%events_site_interaction%"},event26:{id:"%events_chat_popup_serialization%",value:"%events_chat_popup%"},event27:{id:"%events_chat_start_serialization%",value:"%events_chat_start%"},event28:{id:"%events_chat_end_serialization%",value:"%events_chat_end%"},event51:{value:"%events_site_search%"},event53:{value:"%events_site_search_filter%"},event61:{value:"%events_video_start%"},event62:{value:"%events_video_segment_25%"},event63:{value:"%events_video_segment_50%"},event64:{value:"%events_video_segment_75%"},event65:{value:"%events_video_complete%"},event67:{value:"%events_video_segment%"},event71:{value:"%events_target_offer_display%"},event72:{value:"%events_target_offer_impression%"},event73:{value:"%events_target_offer_accept%"},event74:{value:"%events_target_offer_decline%"},event75:{value:"%events_target_offer_defer%"},event76:{value:"%events_advertisement_impression%"},event77:{value:"%events_advertisement_click%"},event78:{value:"%events_target_offer_complete%"},event89:{value:"%events_add_product%"},event90:{value:"%events_remove_product%"}},event101to200:{event111:{value:"%events_otvc_prompt%"},event112:{value:"%events_otvc_success%"},event113:{value:"%events_info_message_view%"}},customDimensions:{eVars:{eVar3:"%digitalData_errors%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar17:"%digitalData_authentication_type%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar21:"%digitalData_download_filename%",eVar22:"%digitalData_exit_linkURL%",eVar23:"%digitalData_share_type%",eVar24:"%digitalData_interaction_name%",eVar26:"%digitalData_chat_id%",eVar27:"%digitalData_chat_type%",eVar51:"%digitalData_search_term%",eVar52:"%digitalData_search_results%",eVar53:"%digitalData_search_filter%",eVar61:"%digitalData_video_name%",eVar62:"%digitalData_video_segment_id%",eVar71:"%digitalData_target_offer_final%",eVar101:"%gtag_ga_user_id%",eVar113:"%digitalData_info_message_id%"},lists:{list1:{list:"%digitalData_list1%"}},props:{prop3:"%digitalData_errors%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop24:"%digitalData_interaction_name%",prop27:"%digitalData_chat_type%",prop50:"%launch_code_version%",prop51:"%digitalData_search_term%",prop52:"%digitalData_search_results%",prop53:"%digitalData_search_filter%",prop54:"%digitalData_search_currentPage%",prop55:"%medallia_survey_id_type%",prop61:"%digitalData_video_name%",prop62:"%digitalData_video_segment_id%",prop71:"%digitalData_target_offer_final%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%",productListItems:"%digitalData_products%"},sandbox:{name:"cibc-development"}}},events_chat_end_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{
operator:"equals"},leftOperand:"%events_chat_end%",rightOperand:1,conditionalValue:"%digitalData_chat_id%"}},medallia_feedback_uuid:{defaultValue:"",modulePath:"medallia-for-adobe-launch/lib/dataElements/feedback-uuid.js",settings:{}},digitalData_conversation_interface_type_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(null!=_satellite.getVar("digitalData_conversation_interfacetype")&&""!=_satellite.getVar("digitalData_conversation_interfacetype")&&null!=_satellite.getVar("digitalData_conversation_interfacename")&&""!=_satellite.getVar("digitalData_conversation_interfacename"))return _satellite.getVar("digitalData_conversation_interfacetype")+":"+_satellite.getVar("digitalData_conversation_interfacename")}}},digitalData_site_name_final:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"banking-cibc",method:"exact match",output:"olb"},1:{input:"service-requests-cibc",method:"exact match",output:"olb"},2:{input:"digital-service-requests",method:"exact match",output:"olb"},size:3,dataElement:"%digitalData_site_name_raw%",defaultValueEmpty:!1}},digitalData_search_results:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof digitalData&&void 0!==digitalData.siteSearch&&null!=digitalData.siteSearch.results&&""!=digitalData.siteSearch.results?digitalData.siteSearch.results.toString():""}}},digitalData_list1:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof digitalData&&void 0!==digitalData.targetOffer?_satellite.getVar("digitalData_target_offer"):_satellite.getVar("digitalData_internal_ad_details")}}},events_video_segment_50:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.videoMilestone50?1:0}}},digitalData_user_authstate:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.authState"}},events_form_qualify_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_form_qualify%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},events_site_search_filter:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.siteSearchFilters?1:0}}},events_otvc_success:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.OTVCsuccess?1:0}}},events_site_search:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.siteSearch?1:0}}},events_application_summary_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_summary%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},events_application_fulfillment:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.applicationFulfilment||digitalData.events.applicationFulfillment?1:0}}},events_chat_end:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.chatEnd?1:0}}},events_target_offer_defer:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.offerDefer||digitalData.events.TODefer?1:0}}},events_conversation_start:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.conversationStart?1:0}}},events_interactive_tool_start:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.interactiveToolStart?1:0}}},events_interactive_tool_complete:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.interactiveToolComplete?1:0}}},digitalData_site_type:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.type"}},events_application_terms_conditions:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.applicationTermsConditions?1:0}}},digitalData_user_type:{defaultValue:"na",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.type"}},events_branch_search:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.branchsearch?1:0}}},digitalData_conversation_intent:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.conversation.intent"}},digitalData_conversation_id:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.conversation.id"}},events_application_product_recommendations_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_product_recommendations%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},external_campaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("query_param_utility"),t=window.digitalData||{},n="";null!=t.campaigns&&null!=t.campaigns.externalCode&&(n=t.campaigns.externalCode||"");var a=decodeURIComponent(e("utrc",_satellite.getVar("digitalData_page_url")));return n||a}}},gtag_ga_product_id:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{},t=function(e){return(e=String(e)).replace(/[,;=|]/g,"")},n=function(e){if("object"==typeof e)return"string"==typeof e.ID?t(e.ID):"string"==typeof e.id?t(e.id):"string"==typeof e.sku&&t(e.sku)},a=function(e){var t=[];if("object"==typeof e.products)for(var a in e.products){var i=e.products[a],r=n(i);r&&t.push(r)}return t};return"object"==typeof e&&"object"==typeof e.products&&e.products.length>0?a(e).sort().join(","):(_satellite.logger.log("Couldnt fetch product ID information"),"")}}},events_chat_popup_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_chat_popup%",rightOperand:1,conditionalValue:"%digitalData_chat_id%"}},events_social_share:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.socialShares?1:0}}},events_utc_tracking:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};return void 0!==e&&void 0!==e.events&&void 0!==e.events.utc&&""!=e.events.utc||void 0!==_satellite.getVar("digitalData_external_campaign")&&""!=_satellite.getVar("digitalData_external_campaign")?1:0}}},digitalData_conversation_interfacename:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.conversation.interfaceName"}},events_registration:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.registration?1:0}}},events_conversation_intent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.conversationIntent?1:0}}},digitalData_transaction_fees:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};if("object"==typeof e&&"object"==typeof e.events&&e.events.formSubmit&&"object"==typeof e.transaction&&"object"==typeof e.transaction.items&&null!=e.transaction.items){for(var t=0,n=e.transaction.items,a=0;a<n.length;a++)t+=n[a].hasOwnProperty("fees")&&""!=n[a].fees&&null!=n[a].fees?parseFloat(n[a].fees):0;return t}return 0}}},gtag_ga_user_id:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.cookie.get("_ga")||"";return""!=e&&(e=(e=e.split("."))[2]+"."+e[3]),e}}},digitalData_sc_hier:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_page_hierarchy")||"";return null==digitalData||null==digitalData.events||!digitalData.events.pageView||"object"!=typeof digitalData||"object"!=typeof digitalData.page||void 0!==digitalData.page.hierarchy&&("object"!=typeof digitalData.page.hierarchy||0!=digitalData.page.hierarchy.length&&""!=digitalData.page.hierarchy)?""!=e&&null!=e&&"object"==typeof e?e.join(">"):""!=e&&null!=e&&"string"==typeof e?e:(_satellite.logger.log("could not load hierarchy"),""):""}}},events_application_terms_conditions_serialization:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_terms_conditions%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},user_consent:{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"in"}},digitalData_form_unique_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.form.uniqueID"}},digitalData_video_segment_id:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.video.segmentID"}},events_application_summary:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.applicationSummary?1:0}}},events_form_step:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.formStep?1:0}}},is_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData&&"object"==typeof digitalData.products&&digitalData.products.length>0}}},sc_products:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=window.digitalData||{},n=[],a={formQualify:{products:{category:!1,quantity:!1,price:!1,eVars:{eVar81:function(e){return i(e)},eVar82:function(e){return r(e)},eVar83:function(e){return o(e)},eVar84:function(e){return s(e)}}}},formStep:{products:{enable:function(e){for(var t=e.events||{},n=["applicationPersonalDetails","applicationProductRecommendations","applicationSummary","applicationFulfillment","applicationTermsConditions","removeProduct","addProduct","formQualify","appComplete"],a=0,i=n.length;a<i;a++)if(t[n[a]])return!1;return!0},category:!1,quantity:!1,price:!1}},applicationPersonalDetails:{products:{category:!1,quantity:!1,price:!1}},applicationProductRecommendations:{products:{category:!1,quantity:!1,price:!1}},applicationSummary:{products:{category:!1,quantity:!1,price:!1}},applicationFulfillment:{products:{category:!1,quantity:!1,price:!1}},applicationTermsConditions:{products:{category:!1,quantity:!1,price:!1}},productPageView:{products:{category:!1,quantity:!1,price:!1,eVars:{eVar81:function(e){return i(e)}}}},removeProduct:{products:{category:!1,quantity:!1,price:!1}},addProduct:{products:{category:!1,quantity:!1,price:!1,events:{event30:function(e){return"boolean"==typeof e.paperless&&1==e.paperless?"1":"0"}},eVars:{eVar81:function(e){return i(e)},eVar82:function(e){return r(e)},eVar83:function(e){return o(e)},eVar84:function(e){return s(e)}}}},appComplete:{products:{category:!1,quantity:!1,price:!1,events:{event83:function(e){return"string"==typeof e.adjudication&&"success"==e.adjudication?"1":"0"},event84:function(e){return"string"==typeof e.adjudication&&"declined"==e.adjudication?"1":"0"},event85:function(e){return"string"==typeof e.adjudication&&"referred"==e.adjudication?"1":"0"},event86:function(e){return"string"==typeof e.adjudication&&"failed"==e.adjudication?"1":"0"},event102:function(e){return"string"==typeof e.adjudication&&"not-originated"==e.adjudication?"1":"0"},event101:function(e){return"boolean"==typeof e.jointApplication&&1==e.jointApplication?"1":"0"}},eVars:{eVar87:function(e){return c(e)},eVar88:function(e){return l(e)}}}}},i=function(e){return"string"==typeof e.marketingSiteSection&&e.marketingSiteSection},r=function(e){return"string"==typeof e.positioning&&e.positioning},o=function(e){return"string"==typeof e.grouping?e.grouping:"no grouping"},s=function(e){return"string"==typeof e.parentProduct&&e.parentProduct},c=function(e){return"string"==typeof e.fulfilment&&e.fulfilment},l=function(e){return"string"==typeof e.adjudication&&e.adjudication},u=function(e){return(e=String(e)).replace(/[,;=|]/g,"")},d=function(e){return e=String(e),Number(e.replace(/[^0-9\.]+/g,""))};if(!t.events||"object"!=typeof t.events)return"";for(var e in t.events)if(t.events.hasOwnProperty(e)&&"object"==typeof a[e]&&t.events[e]){if(a[e].products&&"object"==typeof t.products&&t.products.length>0&&("function"!=typeof a[e].products.enable||a[e].products.enable.call(t,t)))for(var f=0,g=t.products.length;f<g;f++){var p=[],m=t.products[f];if("object"==typeof m){if(a[e].products.category?"object"==typeof m.category&&"string"==typeof m.category.name?p.push(u(m.category.name)):"string"==typeof m.category?p.push(u(m.category)):p.push(""):p.push(""),"string"==typeof m.ID?p.push(u(m.ID)):"string"==typeof m.id?p.push(u(m.id)):"string"==typeof m.sku?p.push(u(m.sku)):p.push(""),!a[e].products.quantity||"string"!=typeof m.quantity&&"number"!=typeof m.quantity?p.push(""):(m.quantity=u(m.quantity),p.push(m.quantity)),a[e].products.price)if("string"==typeof m.price||"number"==typeof m.price){var v=parseInt(m.quantity)||1;m.price=d(m.price),p.push(m.price*v)}else p.push("");else p.push("");if("object"==typeof a[e].products.events){var _=[];for(var h in a[e].products.events)a[e].products.events.hasOwnProperty(h)&&("string"==typeof(C=a[e].products.events[h])&&_.push(h+"="+u(C)),"function"==typeof C&&!1!==(j=C.call(t,m,t))&&_.push(h+"="+u(j)));p.push(_.join("|"))}else p.push("");if("object"==typeof a[e].products.eVars){var b=[];for(var y in a[e].products.eVars)a[e].products.eVars.hasOwnProperty(y)&&("string"==typeof(P=a[e].products.eVars[y])&&b.push(y+"="+u(P)),"function"==typeof P&&!1!==(j=P.call(t,m,t))&&b.push(y+"="+u(j)));p.push(b.join("|"))}else p.push("");p=p.join(";").replace(/;+$/,""),n.push(p)}}if("object"==typeof a[e].eVars||"object"==typeof a[e].events){p=[];var w=!1,D=!1;if("object"==typeof a[e].events){for(var h in _=[],a[e].events){var C;a[e].events.hasOwnProperty(h)&&("string"==typeof(C=a[e].events[h])&&(D=!0,_.push(h+"="+u(C))),"function"==typeof C&&!1!==(j=C.call(t,t))&&(D=!0,_.push(h+"="+u(j))))}p.push(_.join("|"))}else p.push("");if("object"==typeof a[e].eVars){for(var y in b=[],a[e].eVars){var P,j;a[e].eVars.hasOwnProperty(y)&&("string"==typeof(P=a[e].eVars[y])&&(w=!0,b.push(y+"="+u(P))),"function"==typeof P&&!1!==(j=P.call(t,t))&&(w=!0,b.push(y+"="+u(j))))}p.push(b.join("|"))}else p.push("");(w||D)&&(p=";;;;"+p.join(";"),n.push(p.replace(/;+$/,"")))}}return n.join(",")}}},aep_xdm_experience_medallia_survey_submitted:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"survey-completed",type:"other",linkClicks:{value:1}},webPageDetails:{URL:"%digitalData_page_url%",name:"%digitalData_full_page_name%",siteSection:"%digitalData_site_name_final%"}},_experience:{analytics:{event1to100:{event3:{value:"%events_errors%"},event24:{value:1},event56:{value:1}},customDimensions:{eVars:{eVar3:"%digitalData_errors%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar21:"%digitalData_download_filename%",eVar22:"%digitalData_exit_linkURL%",eVar23:"%digitalData_share_type%",eVar24:"survey-completed",eVar55:"%medallia_survey_id_type%",eVar56:"%medallia_feedback_uuid%",eVar101:"%gtag_ga_user_id%"},props:{prop3:"%digitalData_errors%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop24:"survey-completed",prop50:"%launch_code_version%",prop55:"%medallia_survey_id_type%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%"},sandbox:{name:"cibc-development"}}},digitalData_page_sub_sub_category:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_page_path")||"";if(""!=e){var t=e.split(".");return t.length>1?[_satellite.getVar("digitalData_site_name_final"),t[0],t[1]].join(">"):""}return""}}},digitalData_transaction_from_to_frequency:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=function(e,t,n){return n.indexOf(e)===t};if("object"==typeof digitalData&&"object"==typeof digitalData.events&&window.digitalData.events.formSubmit&&"object"==typeof digitalData.transaction&&"object"==typeof digitalData.transaction.items&&null!=digitalData.transaction.items){for(var t=[],n="",a=[],i=[],r=!1,o=digitalData.transaction.items,s=_satellite.getVar("digitalData_form_name"),c=0;c<o.length;c++)o[c].hasOwnProperty("amount")&&null!=o[c].amount&&("send-etransfers"!=s&&"new-payments"!=s&&"setup-payments"!=s&&"send-etransfer-chatbot"!=s&&"bill-payment-chatbot"!=s||(r=!0)),o[c].hasOwnProperty("from")&&o[c].from.hasOwnProperty("holding")&&o[c].from.holding&&a.push(o[c].from.holding),o[c].hasOwnProperty("to")&&o[c].to.hasOwnProperty("holding")&&o[c].to.holding&&t.push(o[c].to.holding),o[c].hasOwnProperty("frequency")&&o[c].frequency&&i.push(o[c].frequency);return t=t.filter(e),a=a.filter(e),i=i.filter(e),n=r?"external":t.length>1?"multiples":t.length>0?t[0]:"na",((a.length>0?a[0]:"na")+":"+n+":"+(i.length>0?i[0]:"na")).toLowerCase()}}}},events_application_product_recommendations:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.applicationProductRecommendations?1:0}}},digitalData_authentication_type:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.interaction.authType"}},aep_xdm_experience_medallia_survey_displayed:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"survey-displayed",type:"other",linkClicks:{value:1}},webPageDetails:{URL:"%digitalData_page_url%",name:"%digitalData_full_page_name%",siteSection:"%digitalData_site_name_final%"}},_experience:{analytics:{event1to100:{event3:{value:"%events_errors%"},event24:{value:1},event55:{value:1}},customDimensions:{eVars:{eVar3:"%digitalData_errors%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar21:"%digitalData_download_filename%",eVar22:"%digitalData_exit_linkURL%",eVar23:"%digitalData_share_type%",eVar24:"survey-displayed",eVar55:"%medallia_survey_id_type%",eVar56:"%medallia_feedback_uuid%",eVar101:"%gtag_ga_user_id%"},props:{prop3:"%digitalData_errors%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop24:"survey-displayed",prop50:"%launch_code_version%",prop55:"%medallia_survey_id_type%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%"},sandbox:{name:"cibc-development"}}},medallia_survey_id_type:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(null!=_satellite.getVar("medallia_form_id")&&null!=_satellite.getVar("medallia_form_type"))return _satellite.getVar("medallia_form_id")+":"+_satellite.getVar("medallia_form_type")}}},digitalData_video_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.video.name"}},query_param_utility:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e,t,n){try{if(!e)return;n=n||"&",t=t||window.location.search;var a=new RegExp("[?"+n+"]"+e+"=([^"+n+"]+)","i"),i=t.match(a);return i&&i[1]?i[1]:""}catch(e){}}}}},events_video_segment_25:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.videoMilestone25?1:0}}},digitalData_hierarchy_1:{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_sc_hier")||"";return""!=e?e.split(">"):[""]}}},events_target_offer_accept:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.TOAccept||digitalData.events.offerAccept?1:0}}},digitalData_form_appointment:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData&&"object"==typeof digitalData.form&&"string"==typeof digitalData.form.appointmentCategory?[digitalData.form.appointmentType||"na",digitalData.form.appointmentCategory||"na",digitalData.form.appointmentSubCategory||"na",digitalData.form.appointmentTime||"na"].join("_"):""}}},events_form_prefill:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.formPrefill?1:0}}},digitalData_page_submodule:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_page_path")||"";if(""!=e){var t=e.split(".");return t.length>3?t[1]:null}return null}}},digitalData_site_app_version:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.appVersion"}},digitalData_page_accessibility:{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof digitalData&&void 0!==digitalData.page?digitalData.page.accessibility?"page-accessibility-available":"page-accessibility-not-available":""}}},"ga4-client-id":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.cookie.get("_ga")||"";return""!=e&&(e=(e=e.split("."))[2]+"."+e[3]),e}}},alloy_user_identity_map:{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{uci_id:[{id:"%digitalData_user_id%",primary:!1,authenticatedState:"authenticated"}]}},time_parting:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new Function("h","z","var s=this,od;od=new Date('1/1/2000');if(od.getDay()!=6||od.getMonth()!=0){return'Data Not Available';}else{var H,M,D,U,ds,de,tm,da=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=_tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+d.getFullYear());de=new Date(dso[1]+'/'+d.getFullYear());if(h=='n'&&d>ds&&d<de){z=z+1;}else if(h=='s'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getTimezoneOffset()*60000);d=new Date(d+(3600000*z));H=d.getHours();M=d.getMinutes();M=(M<10)?'0'+M:M;D=d.getDay();U=' AM';if(H>=12){U=' PM';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+':'+M+U;return(tm+'|'+D);}")("n",-5)}}},events_transaction_complete:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.transactionComplete||digitalData.events.formSubmit&&"object"==typeof digitalData.transaction&&"object"==typeof digitalData.transaction.items?1:0}}},formTimeToComplete:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar||{},t=(new Date).getTime(),n=e("digitalData_form_name");_satellite.cookie.set(n+"-CompleteTime",t,{domain:e("root_domain")});var a=_satellite.cookie.get(n+"-StartTime");if(null!=n&&""!=n&&null!=a&&""!=a){var i=Math.round((t-a)/1e3);_satellite.setVar("formTimeToComplete",i),_satellite.logger.log(n+" process completed at: "+t),_satellite.logger.log("The form process took "+i+" seconds, or about "+Math.round(i/60)+" minutes"),_satellite.cookie.remove(n+"-StartTime"),_satellite.cookie.remove(n+"-CompleteTime")}}}},digitalData_conversation_confidencerating:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.conversation&&digitalData.conversation.confidenceRating?isNaN(Number(digitalData.conversation.confidenceRating))?0:parseFloat(Number(digitalData.conversation.confidenceRating)):0}}},medallia_form_id:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"medallia-for-adobe-launch/lib/dataElements/form-id.js",settings:{}},events_conversation_start_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_conversation_start%",rightOperand:1,conditionalValue:"%digitalData_conversation_id%"}},events_compare_cards:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.cardCompare?1:0}}},digitalData_page_path:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData&&"object"==typeof digitalData.page&&"string"==typeof digitalData.page.path?digitalData.page.path.replace(/\.index/g,"").replace(/\>/g,"-"):null}}},digitalData_search_filter:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.siteSearch.filter"}},ga4_digitalData_download_filename:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.download.fileName"}},events_product_pageview:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.productPageView?1:0}}},digitalData_products:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{},t=[];if("object"==typeof e&&"object"==typeof e.products&&e.products.length>0){for(var n=0,a=e.products.length;n<a;n++){var i={};i.name=e.products[n].id,i.SKU=e.products[n].id,null!=e.products[n].quantity&&e.products[n].quantity&&(i.quantity=e.products[n].quantity?parseInt(e.products[n].quantity):0),null!=e.products[n].price&&e.products[n].price&&(i.priceTotal=e.products[n].price?parseFloat(e.products[n].price):0),i._experience={},i._experience.analytics={},i._experience.analytics.customDimensions={},i._experience.analytics.customDimensions.eVars={},null!=e.products[n].marketingSiteSection&&""!=e.products[n].marketingSiteSection&&(i._experience.analytics.customDimensions.eVars.eVar81=e.products[n].marketingSiteSection||""),null!=e.products[n].positioning&&""!=e.products[n].positioning&&(i._experience.analytics.customDimensions.eVars.eVar82=e.products[n].positioning||""),null!=e.products[n].grouping&&""!=e.products[n].grouping&&(i._experience.analytics.customDimensions.eVars.eVar83=e.products[n].grouping||""),null!=e.products[n].parentProduct&&""!=e.products[n].parentProduct&&(i._experience.analytics.customDimensions.eVars.eVar84=e.products[n].parentProduct||""),null!=e.products[n].originalProduct&&""!=e.products[n].originalProduct&&(i._experience.analytics.customDimensions.eVars.eVar85=e.products[n].originalProduct||""),(null!=e.products[n].fulfilment&&""!=e.products[n].fulfilment||null!=e.products[n].fulfillment&&""!=e.products[n].fulfillment)&&(i._experience.analytics.customDimensions.eVars.eVar87=e.products[n].fulfilment||e.products[n].fulfillment||""),t.push(i)}return t}}}},digitalData_site_brand:{defaultValue:"cibc",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.brand"}},events_exit:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.exit?1:0}}},digitalData_target_offer:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData&&void 0!==digitalData.targetOffer){for(var e=[],t={},n=[],a=0;a<digitalData.targetOffer.length;a++){var i=[],r=digitalData.targetOffer[a];i.push(r.campaign||"na"),i.push(r.treatment||"na"),i.push(r.topic||"na"),i.push(r.cell||"na"),i.push(r.strategy||"na"),i.push("string"==typeof r.startDate?r.startDate.substring(0,10):"na"),i.push("string"==typeof r.endDate?r.endDate.substring(0,10):"na"),e.push(i.join("_"))}return t.value=e.join(","),n.push(t),n}return[{value:""}]}}},digitalData_page_hierarchy:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.hierarchy"}},"ga4-global-variables":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar;return{site_section:e("digitalData_site_name_final")||void 0,page_name:e("digitalData_full_page_name")||void 0,page_language:e("digitalData_page_language")||void 0,page_accessibility:e("digitalData_page_accessibility")||void 0,site_version:e("digitalData_site_version")||void 0,hierarchy:e("digitalData_sc_hier")||void 0,code_version:e("launch_code_version")||void 0,auth_type:e("digitalData_user_authstate")||void 0,user_type:e("digitalData_user_type")||void 0,braze_id:e("digitalData_braze_id")||void 0,crm_id:e("digitalData_user_id")||void 0}}}},digitalData_braze_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.brazeId"}},user_authState_type:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return""!==_satellite.getVar("digitalData_user_authstate")&&(e=_satellite.getVar("digitalData_user_authstate")+":"+(_satellite.getVar("digitalData_user_type")||_satellite.getVar("digitalData_user_segment")||"na")),e}}},digitalData_transaction_amount_out:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};if("object"==typeof e&&"object"==typeof e.events&&e.events.formSubmit&&"object"==typeof e.transaction&&"object"==typeof e.transaction.items&&null!=e.transaction.items){for(var t=0,n=e.transaction.items,a=_satellite.getVar("digitalData_form_name"),i=0;i<n.length;i++)n[i].hasOwnProperty("amount")&&null!=n[i].amount&&("send-etransfers"!=a&&"new-payments"!=a&&"setup-payments"!=a&&"send-etransfer-chatbot"!=a&&"bill-payment-chatbot"!=a||(t+=parseFloat(n[i].amount)));return t}return 0}}},digitalData_page_function:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_page_path")||""
;if(""!=e){var t=e.split(".");return t.length>=2?t[t.length-2]:null}return null}}},events_application_confirmation_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_confirmation%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},ga4_prod_account_id:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"G-BBXFMF6HTX"}},aep_xdm_experience_pageview_events:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webReferrer:{URL:"%digitalData_page_referrer%"},webPageDetails:{URL:"%digitalData_page_url%",name:"%digitalData_full_page_name%",server:"%host_name%",pageViews:{value:"%events_pageView%"},siteSection:"%digitalData_site_name_final%"}},commerce:{purchases:{id:"%digitalData_transaction_ID%",value:"%events_purchase%"}},marketing:{trackingCode:"%external_campaign%"},_experience:{analytics:{event1to100:{event1:{id:"%events_form_view_serialization%",value:"%events_form_view%"},event2:{id:"%events_form_submit_serialization%",value:"%events_form_submit%"},event3:{value:"%events_errors%"},event4:{value:"%events_form_step%"},event5:{id:"%events_form_qualify_serialization%",value:"%events_form_qualify%"},event6:{value:"%events_appointment_set%"},event7:{value:"%events_form_resume%"},event8:{value:"%events_form_prefill%"},event19:{value:"%events_login%"},event23:{value:"%events_social_share%"},event25:{value:"%events_branch_search%"},event26:{id:"%events_chat_popup_serialization%",value:"%events_chat_popup%"},event27:{id:"%events_chat_start_serialization%",value:"%events_chat_start%"},event28:{id:"%events_chat_end_serialization%",value:"%events_chat_end%"},event30:{value:"%events_paperless%"},event31:{value:"%events_compare_cards%"},event35:{value:"%events_registration%"},event38:{value:"%events_utc_tracking%"},event39:{value:"%events_interactive_tool_start%"},event40:{value:"%events_interactive_tool_complete%"},event41:{id:"%events_transaction_complete_serialization%",value:"%events_transaction_complete%"},event42:{id:"%digitalData_transaction_amount_serialization%",value:"%digitalData_transaction_amount%"},event43:{value:"%digitalData_transaction_units%"},event44:{value:"%digitalData_transaction_fees%"},event45:{value:"%digitalData_transaction_amount_in%"},event46:{value:"%digitalData_transaction_amount_out%"},event47:{value:"%digitalData_transaction_amount_circulated%"},event48:{value:"%events_cross_border_transaction%"},event51:{value:"%events_site_search%"},event53:{value:"%events_site_search_filter%"},event71:{value:"%events_target_offer_display%"},event72:{value:"%events_target_offer_impression%"},event73:{value:"%events_target_offer_accept%"},event74:{value:"%events_target_offer_decline%"},event75:{value:"%events_target_offer_defer%"},event76:{value:"%events_advertisement_impression%"},event78:{value:"%events_target_offer_complete%"},event81:{value:"%events_product_pageview%"},event82:{id:"%events_application_complete_serialization%",value:"%events_application_complete%"},event87:{value:"%events_system_cancelled%"},event88:{value:"%events_lead%"},event89:{value:"%events_add_product%"},event90:{value:"%events_remove_product%"},event91:{id:"%events_application_personal_details_serialization%",value:"%events_application_personal_details%"},event92:{id:"%events_application_product_recommendations_serialization%",value:"%events_application_product_recommendations%"},event93:{id:"%events_application_summary_serialization%",value:"%events_application_summary%"},event94:{id:"%events_application_fulfillment_serialization%",value:"%events_application_fulfillment%"},event95:{id:"%events_application_terms_conditions_serialization%",value:"%events_application_terms_conditions%"},event96:{id:"%events_application_confirmation_serialization%",value:"%events_application_confirmation%"}},event101to200:{event111:{value:"%events_otvc_prompt%"},event112:{value:"%events_otvc_success%"},event113:{value:"%events_info_message_view%"}},customDimensions:{eVars:{eVar1:"%digitalData_form_name%",eVar3:"%digitalData_errors%",eVar4:"%digitalData_form_step_name%",eVar5:"%digitalData_transaction_ID%",eVar6:"%digitalData_form_appointment%",eVar8:"%digitalData_prefill_method%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar12:"%digitalData_page_consumption%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar17:"%digitalData_authentication_type%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar26:"%digitalData_chat_id%",eVar27:"%digitalData_chat_type%",eVar31:"%external_campaign%",eVar32:"%external_campaign%",eVar34:"%digitalData_page_referrer%",eVar35:"%internal_campaign%",eVar37:"%internal_campaign%",eVar39:"%digitalData_interactive_tool_name%",eVar40:"%visit_referrer%",eVar41:"%digitalData_transaction_from_to_frequency%",eVar51:"%digitalData_search_term%",eVar52:"%digitalData_search_results%",eVar53:"%digitalData_search_filter%",eVar71:"%digitalData_target_offer_final%",eVar100:"%sc_products%",eVar101:"%gtag_ga_user_id%",eVar102:"%digitalData_braze_id%",eVar113:"%digitalData_info_message_id%"},lists:{list1:{list:"%digitalData_list1%"}},props:{prop1:"%digitalData_form_name%",prop4:"%digitalData_form_step_name%",prop7:"%digitalData_page_sub_category%",prop8:"%digitalData_page_sub_sub_category%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop12:"%digitalData_page_accessibility%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop27:"%digitalData_chat_type%",prop39:"%digitalData_interactive_tool_name%",prop50:"%launch_code_version%",prop51:"%digitalData_search_term%",prop52:"%digitalData_search_results%",prop53:"%digitalData_search_filter%",prop54:"%digitalData_search_currentPage%",prop71:"%digitalData_target_offer_final%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%",productListItems:"%digitalData_products%"},sandbox:{name:"cibc-development"}}},events_application_personal_details_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_personal_details%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},visit_referrer:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.document.referrer;return-1!=e.indexOf("?")?e.split("?")[1].split("&").length>1?e.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,""):e.replace(/\?(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,""):e.replace(/(card-number|cardNumber)(-.*?)?=\d{0,16}\&?/gi,"")}}},digitalData_sc_hier_global:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_sc_hier")||"",t=_satellite.getVar("digitalData_site_name_final")||"";return""==e&&""!=t?t:e.split(">").length>=1&&""!=t?t+">"+e:(_satellite.logger.log("could not load global hierarchy"),"")}}},events_target_offer_impression:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.TOClick||digitalData.events.offerImpression?1:0}}},events_video_segment:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.videoSegment?1:0}}},digitalData_conversation_interfacetype:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.conversation.interfaceType"}},ga4_accounts:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar,t=e("ga4_dev_account_id");return"www.cibconline.cibc.com"!==document.location.hostname&&"www.cibc.mobi"!==document.location.hostname&&"www.cibc.com"!==document.location.hostname&&"pilot.www.cibconline.cibc.com"!==document.location.hostname&&"pilot.www.cibc.com"!==document.location.hostname||"https:"!==document.location.protocol?(_satellite.logger.log("sending data to default report suit"),t):e("ga4_prod_account_id")}}},alloy_stream_id:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="79e0dd2d-8a09-4e74-8483-9c9685b55168";return"true"===localStorage.getItem("sdsat_stagingLibrary")||"www.cibconline.cibc.com"!==document.location.hostname&&"www.cibc.mobi"!==document.location.hostname&&"www.cibc.com"!==document.location.hostname&&"pilot.www.cibconline.cibc.com"!==document.location.hostname&&"pilot.www.cibc.com"!==document.location.hostname?(_satellite.logger.log("sending data to default reportsuit"),e):"3b724a94-2503-4a15-8850-4d207efcd0ef"}}},events_add_product:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.addProduct?1:0}}},digitalData_transaction_amount:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};if("object"==typeof e&&"object"==typeof e.events&&e.events.formSubmit&&"object"==typeof e.transaction&&"object"==typeof e.transaction.items&&null!=e.transaction.items){for(var t=0,n=e.transaction.items,a=0;a<n.length;a++)n[a].hasOwnProperty("amount")&&null!=n[a].amount&&(t+=parseFloat(n[a].amount));return t}return 0}}},is_transaction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};return!(void 0===e||void 0===e.transaction||"object"!=typeof e.transaction||"object"!=typeof e.transaction.items||!e.transaction.items[0].amount||null==e.transaction.items)}}},digitalData_target_offer_final:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData&&void 0!==digitalData.targetOffer){for(var e=[],t=0;t<digitalData.targetOffer.length;t++){var n=[],a=digitalData.targetOffer[t];n.push(a.campaign||"na"),n.push(a.treatment||"na"),n.push(a.topic||"na"),n.push(a.cell||"na"),n.push(a.strategy||"na"),n.push("string"==typeof a.startDate?a.startDate.substring(0,10):"na"),n.push("string"==typeof a.endDate?a.endDate.substring(0,10):"na"),e.push(n.join("_"))}return e.join(",")}return""}}},events_transaction_complete_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_transaction_complete%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},aep_xdm_experience_medallia_survey_accepted:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"survey-accepted",type:"other",linkClicks:{value:1}},webPageDetails:{URL:"%digitalData_page_url%",name:"%digitalData_full_page_name%",siteSection:"%digitalData_site_name_final%"}},_experience:{analytics:{event1to100:{event3:{value:"%events_errors%"},event24:{value:1},event58:{value:1}},customDimensions:{eVars:{eVar3:"%digitalData_errors%",eVar10:"%digitalData_full_page_name%",eVar11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",eVar13:"%host_name%",eVar14:"%digitalData_sc_hier%",eVar15:"%digitalData_page_url_no_qp%",eVar16:"%digitalData_page_language%",eVar19:"%digitalData_user_authstate%:%digitalData_user_type%",eVar20:"%digitalData_user_id%",eVar21:"%digitalData_download_filename%",eVar22:"%digitalData_exit_linkURL%",eVar23:"%digitalData_share_type%",eVar24:"survey-accepted",eVar55:"%medallia_survey_id_type%",eVar56:"%medallia_feedback_uuid%",eVar101:"%gtag_ga_user_id%"},props:{prop3:"%digitalData_errors%",prop11:"%digitalData_site_app_version%:%digitalData_site_lastBuildDate%:%digitalData_site_name_final%:%digitalData_site_type%",prop15:"%digitalData_page_url_no_qp%",prop16:"%digitalData_page_language%",prop19:"%digitalData_user_authstate%:%digitalData_user_type%",prop20:"%digitalData_user_id%",prop24:"survey-accepted",prop50:"%launch_code_version%",prop55:"%medallia_survey_id_type%"},hierarchies:{hier1:{values:"%digitalData_hierarchy_1%",delimiter:">"},hier2:{values:"%digitalData_hierarchy_2%",delimiter:">"}}}}},identityMap:"%alloy_user_identity_map%"},sandbox:{name:"cibc-development"}}},events_conversation_interaction:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.conversationInteraction?1:0}}},gtag_ga_product_items_ec:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{},t=_satellite.getVar("gtag_ga_product_translation")||{},n=function(e){return(e=String(e)).replace(/[,;=|]/g,"")},a=function(e){if("object"==typeof e)return"string"==typeof e.ID?n(e.ID):"string"==typeof e.id?n(e.id):"string"==typeof e.sku&&n(e.sku)};return function(e){var n=[];if("object"==typeof e.products)for(var i in e.products){var r=!1,o=e.products[i],s=a(o);if(s){(r={}).id=s;var c=t[s];"object"==typeof c&&(r.name=c.name,r.category=c.category,r.variant=c.variant,r.brand=c.brand),e.events.productPageView&&"string"==typeof o.marketingSiteSection&&""!=o.marketingSiteSection&&(r.marketing_site_section=o.marketingSiteSection),e.events.formView&&(r.app_start=1),"string"==typeof o.positioning&&""!=o.positioning&&(r.product_positioning=o.positioning,null==r.app_declined&&"declined"==o.positioning&&(r.app_declined=1),null==r.application_not_eligible&&"not-eligible"==o.positioning&&(r.application_not_eligible=1)),"string"==typeof o.grouping&&""!=o.grouping?r.product_grouping=o.grouping:r.product_grouping="no-grouping","string"==typeof o.parentProduct&&""!=o.parentProduct&&(r.parent_product=o.parentProduct),"string"==typeof o.originalProduct&&""!=o.originalProduct&&(r.original_product=o.originalProduct),"string"!=typeof o.fulfilment&&"string"!=typeof o.fulfillment||""==o.fulfilment&&""==o.fulfillment||(r.fulfillment_method=o.fulfilment||o.fulfillment),!0===o.recommended&&(r.recommended_product=1),(e.events.appComplete||e.events.purchase)&&(r.app_complete=1,"object"==typeof o&&"string"==typeof o.adjudication&&""!=o.adjudication&&(r.joint_application=1==o.jointApplication||1==o.joint?1:void 0,r.app_approved="success"==o.adjudication?1:void 0,r.app_declined="declined"==o.adjudication?1:void 0,r.app_referred="referred"==o.adjudication?1:void 0,r.app_failed="failed"==o.adjudication?1:void 0,r.app_not_originated="not-originated"==o.adjudication?1:void 0,r.application_not_eligible="not-eligible"==o.adjudication||"not-eligible"==o.positioning?1:void 0,r.adjudication_response=o.adjudication)),r&&n.push(r)}}return n.length>0?n:void _satellite.logger.log("Couldnt load product items for eCommerce tracking")}(e)}}},digitalData_search_currentPage:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return null!=digitalData&&null!=digitalData.siteSearch&&null!=digitalData.siteSearch.currentPage&&""!=digitalData.siteSearch.currentPage?digitalData.siteSearch.currentPage.toString():""}}},events_application_complete:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.appComplete?1:0}}},events_system_cancelled:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.systemCancelled?1:0}}},events_info_message_view:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.infoMessageView?1:0}}},events_chat_start:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.chatStart?1:0}}},events_advertisement_click:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.advertisementClick?1:0}}},events_form_qualify:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.formQualify?1:0}}},digitalData_page_name:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.name"}},tracking_server_secure:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"analytics.cibc.com"}}},events_pageView:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.pageView?1:0}}},digitalData_exit_linkURL:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.exit.linkURL"}},gtag_ga_product_translation:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{ECAStudent:{name:"Chequing - Advantage Account for Students",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},ECA:{name:"Chequing - Everyday Chequing Account",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},ECAStaff:{name:"Chequing - Everyday Chequing Account",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},ECA65Plus:{name:"Chequing - Everyday Chequing Account",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},ECANewcomer:{name:"Chequing - Everyday Chequing Account for Newcomers",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},UCA:{name:"Chequing - Smart Account",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},UCAStaff:{name:"Chequing - Smart Account",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},UCA65Plus:{name:"Chequing - Smart Account",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},UCAStud:{name:"Chequing - Smart Account for Students",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},SmartAccountNewcomer:{name:"Chequing - Smart Account for Newcomers",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},SmartAccountNewcomer1month:{name:"Chequing - Smart Account for Newcomers",brand:"CIBC",category:"Bank Accounts",variant:"Chequing Accounts"},PGA65Plus:{name:"Savings - Premium Growth Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},USDPA65Plus:{name:"Savings - U.S. Dollar Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},PGAYouth:{name:"Savings - Advantage Account for Youth",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},BSA:{name:"Savings - Bonus Savings Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},ESA:{name:"Savings - eAdvantage Savings Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},ESAStaff:{name:"Savings - eAdvantage Savings Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},PGA:{name:"Savings - Premium Growth Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},PGAStaff:{name:"Savings - Premium Growth Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},USDPA:{name:"Savings - U.S. Dollar Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},USDPAStaff:{name:"Savings - U.S. Dollar Account",brand:"CIBC",category:"Bank Accounts",variant:"Savings Accounts"},"AG-SB":{name:"CC - Aerogold for Business",brand:"CIBC",category:"Credit Cards",variant:"Business Cards"},"VG-VB120":{name:"CC - Aerogold for Business",brand:"CIBC",category:"Credit Cards",variant:"Business Cards"},"VG-VB180":{name:"CC - Aerogold for Business",brand:"CIBC",category:"Credit Cards",variant:"Business Cards"},"VB-BZ":{name:"CC - Bizline",brand:"CIBC",category:"Credit Cards",variant:"Business Cards"},"DC-UI":{name:"CC - Dividend",brand:"CIBC",category:"Credit Cards",variant:"Cash Back Cards"},"DC-SP":{name:"CC - Dividend",brand:"CIBC",category:"Credit Cards",variant:"Cash Back Cards"},"VW-DI":{name:"CC - Dividend Infinite",brand:"CIBC",category:"Credit Cards",variant:"Cash Back Cards"},"VW-DS":{name:"CC - Dividend Infinite",brand:"CIBC",category:"Credit Cards",variant:"Cash Back Cards"},"PL-DV":{name:"CC - Dividend Platinum",brand:"CIBC",category:"Credit Cards",variant:"Cash Back Cards"},"PL-SP":{name:"CC - Dividend Platinum",brand:"CIBC",category:"Credit Cards",variant:"Cash Back Cards"},"VL-LC":{name:"CC - CIBC Select",brand:"CIBC",category:"Credit Cards",variant:"Everyday Cards"},"VC-CL":{name:"CC - Classic",brand:"CIBC",category:"Credit Cards",variant:"Everyday Cards"},"VC-SP":{name:"CC - Classic",brand:"CIBC",category:"Credit Cards",variant:"Everyday Cards"},"PL-FL":{name:"CC - Platinum",brand:"CIBC",category:"Credit Cards",variant:"Everyday Cards"},"VU-UC":{name:"CC - U.S. Dollar",brand:"CIBC",category:"Credit Cards",variant:"Everyday Cards"},"VU-SP":{name:"CC - U.S. Dollar",brand:"CIBC",category:"Credit Cards",variant:"Everyday Cards"},"VC-TM":{name:"CC - Tim Horton Double Double",brand:"CIBC",category:"Credit Cards",variant:"Retail Rewards Cards"},"VC-TF":{name:"CC - Tim Horton Double Double",brand:"CIBC",category:"Credit Cards",variant:"Retail Rewards Cards"},"PL-OT":{name:"CC - Aero Platinum for Students",brand:"CIBC",category:"Credit Cards",variant:"Student Cards"},"VC-AN":{name:"CC - Aventura for Students",brand:"CIBC",category:"Credit Cards",variant:"Student Cards"},"VC-ST":{name:"CC - Classic for Students",brand:"CIBC",category:"Credit Cards",variant:"Student Cards"},"DC-ST":{name:"CC - Dividend for Student",brand:"CIBC",category:"Credit Cards",variant:"Student Cards"},"VC-TS":{name:"CC - Tim Hortons Double Double for Student",brand:"CIBC",category:"Credit Cards",variant:"Student Cards"},"PL-OR":{name:"CC - Aero Platinum",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"PL-OS":{name:"CC - Aero Platinum",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VW-RA":{name:"CC - Aerogold Infinite",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VW-RS":{name:"CC - Aerogold Infinite",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VW-IP":{name:"CC - Aerogold Infinite Priviledge",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VW-SP":{name:"CC - Aerogold Infinite Priviledge",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VC-AL":{name:"CC - Aventura",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VC-AT":{name:"CC - Aventura",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VG-LA":{name:"CC - Aventura Gold",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VG-SL":{name:"CC - Aventura Gold",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VW-VA":{name:"CC - Aventura Infinite",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"VW-VS":{name:"CC - Aventura Infinite",brand:"CIBC",category:"Credit Cards",variant:"Travel Rewards Cards"},"MULTI-TRIP TMI":{name:"Insurance - Emergency Travel Medical Insurance Multi-Trip Plan",brand:"CIBC",category:"Insurance",variant:"Travel"},"SINGLE-TRIP TMI":{name:"Insurance - Emergency Travel Medical Insurance Single Trip Plan",brand:"CIBC",category:"Insurance",variant:"Travel"},"gic-bonus-rate":{name:"Investments - Bonus Rate GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-cshbl-escal-rate":{name:"Investments - Cashable Escalating Rate GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-escal-rate":{name:"Investments - Escalating Rate GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-flexible":{name:"Investments - Flexible GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-long-term":{name:"Investments - Long-Term GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-redeemable":{name:"Investments - Redeemable GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-short-term":{name:"Investments - Short-Term GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-special-bonus-rate":{name:"Investments - Special Offer GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"gic-variable-rate":{name:"Investments - Variable Rate GIC",brand:"CIBC",category:"Investments",variant:"GIC"},"rrsp-gic-bonus-rate":{name:"Investments - Bonus Rate RRSP GIC",brand:"CIBC",category:"Investments",variant:"RSP"},"rrsp-gic-cshbl-escal-rate":{name:"Investments - Cashable Escalating Rate RRSP GIC",brand:"CIBC",category:"Investments",variant:"RSP"},"rrsp-gic-escal-rate":{name:"Investments - Escalating Rate RRSP GIC",brand:"CIBC",category:"Investments",variant:"RSP"},"rrsp-gic-flexible":{name:"Investments - Flexible RRSP GIC",brand:"CIBC",category:"Investments",variant:"RSP"},"rrsp-disa":{name:"Investments - RRSP DISA",brand:"CIBC",category:"Investments",variant:"RSP"},"rrsp-gic-nonredeemable":{name:"Investments - RRSP GIC (Non-Redeemable)",brand:"CIBC",category:"Investments",variant:"RSP"},"rrsp-gic-redeemable":{name:"Investments - RRSP GIC (Redeemable)",brand:"CIBC",category:"Investments",variant:"RSP"},"tfsa-gic-cshbl-escal-rate":{name:"Invesmtnets - Cashable Escalating Rate TFSA GIC",brand:"CIBC",category:"Investments",variant:"TFSA"},"tfsa-gic-bonus-rate":{name:"Investments - Bonus Rate TFSA GIC",brand:"CIBC",category:"Investments",variant:"TFSA"},"tfsa-gic-escal-rate":{name:"Investments - Escalating Rate TFSA GIC",brand:"CIBC",category:"Investments",variant:"TFSA"},"tfsa-gic-flexible":{name:"Investments - Flexible TFSA GIC",brand:"CIBC",category:"Investments",variant:"TFSA"},"tfsa-gic-nonredeemable":{name:"Investments - TFSA GIC (Non-Redeemable)",brand:"CIBC",category:"Investments",variant:"TFSA"},"tfsa-gic-redeemable":{name:"Investments - TFSA GIC (Redeemable)",brand:"CIBC",category:"Investments",variant:"TFSA"},"tfsa-tasa":{name:"Investments - TFSA TASA",brand:"CIBC",category:"Investments",variant:"TFSA"},"llc-elc":{name:"Loans - Educations Line of Credit",brand:"CIBC",category:"Loans",variant:"Educations"},"llc-pesp":{name:"Loans - Professional Edge Student Program",brand:"CIBC",category:"Loans",variant:"Educations"},"llc-hplc":{name:"Loans - Home Power Plan Line of Credit",brand:"CIBC",category:"Loans",variant:"Personal"},"llc-pc":{name:"Loans - Personal Car Loan",brand:"CIBC",category:"Loans",variant:"Personal"},"llc-plc":{name:"Loans - Personal Line of Credit",brand:"CIBC",category:"Loans",variant:"Personal"},"llc-pl":{name:"Loans - Personal Loan",brand:"CIBC",category:"Loans",variant:"Personal"},mortgage:{name:"Mortgages - Mortgages",brand:"CIBC",category:"Mortgages",variant:"Mortgages"},preapproval:{name:"Mortgages - Online Mortgage Pre-Approval",brand:"CIBC",category:"Mortgages",variant:"Mortgages"},Critical_Illness_Insurance:{name:"Insurance - Critical Illness Insurance",brand:"CIBC Insurance",category:"Insurance",variant:"Critical Illness"},Term_Life_Insurance:{name:"Insurance - Term Life Insurance",brand:"CIBC Insurance",category:"Insurance",variant:"Term Life"},Auto_Insurance:{name:"Insurance - Auto Insurance",brand:"CIBC Insurance",category:"Insurance",variant:"Auto"},Home_Insurance:{name:"Insurance - Home Insurance",brand:"CIBC Insurance",category:"Insurance",variant:"Home"},"CTA-INS-LIFE-GAQB-CAPP-HERO-E":{name:"Insurance - ICAPP",brand:"CIBC Insurance",category:"Insurance",variant:"Accident Protection Plan"},"CTA-INS-LIFE-GAQB-CAPP-HERO-F":{name:"Insurance - ICAPP",brand:"CIBC Insurance",category:"Insurance",variant:"Accident Protection Plan"},"CTA-INS-LIFE-GAQB-GA-HERO-E":{name:"Insurance - GALI",brand:"CIBC Insurance",category:"Insurance",variant:"Guaranteed Acceptance Life Insurance"},"CTA-INS-LIFE-GAQB-GA-HERO-F":{name:"Insurance - GALI",brand:"CIBC Insurance",category:"Insurance",variant:"Guaranteed Acceptance Life Insurance"},"XDEP-701":{name:"Chequing - US Smart Account",brand:"CIBC USA",category:"Bank Accounts",variant:"Chequing Accounts"},"us-account-open":{name:"Agility High Interest Savings Account",brand:"CIBC USA",category:"Bank Accounts",variant:"Savings Accounts"},NFBAO:{name:"Chequing - No Fee Chequing Account with Overdraft Protection",brand:"Simplii",category:"Bank Accounts",variant:"Chequing Accounts"},BAOD:{name:"Chequing - No Fee Chequing Account with Overdraft Protection",brand:"Simplii",category:"Bank Accounts",variant:"Chequing Accounts"},NFBA:{name:"Chequing - No Fee Chequing Account without Overdraft Protection",brand:"Simplii",category:"Bank Accounts",variant:"Chequing Accounts"},IPSA:{name:"Savings - Savings Account",brand:"Simplii",category:"Bank Accounts",variant:"Savings Accounts"},TFIPSA:{name:"Savings - Tax-Free Savings Account",brand:"Simplii",category:"Bank Accounts",variant:"Savings Accounts"},GIC:{name:"Investments - GIC",brand:"Simplii",category:"Investments",variant:"GIC"},"RRSP GIC":{name:"Investments - RRSP GIC",brand:"Simplii",category:"Investments",variant:"GIC"},IPRRSP:{name:"Investments - RRSP Savings Account",brand:"Simplii",category:"Investments",variant:"RSP"},LCBA:{name:"Loans - Personal Line of Credit",brand:"Simplii",category:"Loans",variant:"Personal"},PLC:{name:"Loans - Personal Line of Credit",brand:"Simplii",category:"Loans",variant:"Personal"},TAPL:{name:"Loans - Personal Loan",brand:"Simplii",category:"Loans",variant:"Personal"},TSBA:{name:"Loans - Secured Line of Credit",brand:"",category:"Loans",variant:"Personal"}}}}},events_application_confirmation:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.applicationConfirmation?1:0}}},digitalData_interaction_name:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.interaction.name"}},digitalData_page_module:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData_page_path")||"";return""!=e?e.split(".")[0]:null}}},events_errors:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return null!=window.digitalData&&"object"==typeof window.digitalData&&null!=window.digitalData.events&&"object"==typeof window.digitalData.events&&digitalData.events.error?1:0}}},events_login:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.login?1:0}}},internal_campaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("query_param_utility"),t=window.digitalData||{},n="";null!=t.campaigns&&null!=t.campaigns.internalCode&&(n=t.campaigns.internalCode||"");var a=_satellite.cookie.get("internalCampaign")||"",i=decodeURIComponent(e("itrc",_satellite.getVar("digitalData_page_url")));return n||a||i}}},events_conversation_complete_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_conversation_complete%",rightOperand:1,conditionalValue:"%digitalData_conversation_id%"}},events_chat_popup:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.events.chatPopup?1:0}}},digitalData_transaction_amount_circulated:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalData||{};if("object"==typeof e&&"object"==typeof e.events&&e.events.formSubmit&&"object"==typeof e.transaction&&"object"==typeof e.transaction.items&&null!=e.transaction.items){for(var t=0,n=e.transaction.items,a=_satellite.getVar("digitalData_form_name"),i=0;i<n.length;i++)n[i].hasOwnProperty("amount")&&null!=n[i].amount&&("new-transfers"!=a&&"quick-transfers-accounts"!=a&&"transfer-funds-chatbot"!=a&&"quick-transfers"!=a||(t+=parseFloat(n[i].amount)));return t}return 0}}},digitalData_download_filename:{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof digitalData&&void 0!==digitalData.download?(digitalData.download.fileType||digitalData.download.filetype||"na")+":"+(digitalData.download.fileName||digitalData.download.filename||"na"):""}}},digitalData_site_environment:{
defaultValue:"development",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.environment"}},digitalData_form_step_name:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof digitalData&&"object"==typeof digitalData.form&&"string"==typeof digitalData.form.stepName?digitalData.form.stepName:"string"==typeof _satellite.getVar("digitalData_page_name")&&"object"==typeof digitalData&&"object"==typeof digitalData.events&&1==digitalData.events.formStep?_satellite.getVar("digitalData_page_name"):""}}},digitalData_transaction_amount_serialization:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_transaction_amount%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}},events_application_complete_serialization:{defaultValue:"",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%events_application_complete%",rightOperand:1,conditionalValue:"%digitalData_form_serialization%"}}},extensions:{"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPb202fa05bc444bd89cf0304678932946/",settings:{instances:[{name:"alloy",edgeDomain:"analytics.cibc.com",edgeConfigId:"%alloy_stream_id%",defaultConsent:"%user_consent%",prehidingStyle:"/*\nHide elements as necessary. For example:\n#container { opacity: 0 !important }\n*/\n\n.advertisement-target div.content {opacity:0 !important}",onBeforeEventSend:function(e){window.getPercentPageViewed=function(e,t){function n(){if(window.ppvID){var e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,a=Math.min(Math.round(n/e*100),100),i=Math.floor(n/t);t=Math.floor(e/t);var r="";if(!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&e!=window.cookieRead("s_tp")){if((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID+"1"))&&window.cookieWrite("s_ips",n),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID){window.cookieRead("s_tp");var o=-1<(r=window.cookieRead("s_ppv")).indexOf(",")?r.split(","):[];r=o[0]?o[0]:"",o=o[3]?o[3]:"";var s=window.cookieRead("s_ips");r=r+","+Math.round(o/e*100)+","+Math.round(s/e*100)+","+o+","+i}window.cookieWrite("s_tp",e)}else r=window.cookieRead("s_ppv");var c=r&&-1<r.indexOf(",")?r.split(",",6):[];e=0<c.length?c[0]:encodeURIComponent(window.ppvID),o=1<c.length?parseInt(c[1]):a,s=2<c.length?parseInt(c[2]):a;var l=3<c.length?parseInt(c[3]):n,u=4<c.length?parseInt(c[4]):i;c=5<c.length?parseInt(c[5]):t,0<a&&(r=e+","+(a>o?a:o)+","+s+","+(n>l?n:l)+","+(i>u?i:u)+","+(t>c?t:c)),window.cookieWrite("s_ppv",r)}}var a=e,i=t;if("-v"===a)return{plugin:"getPercentPageViewed",version:"5.0.1"};var r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==r&&(r.contextData.getPercentPageViewed="5.0.1"),window.pageName=void 0!==r&&r.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,i=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){i=2<i?i:2;var r=a.lastIndexOf(".");if(0<=r){for(;0<=r&&1<i;)r=a.lastIndexOf(".",r-1),i--;r=0<r?a.substring(r):a}}if(g=r,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>a?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var o=window.cookieRead("s_ppv");o=-1<o.indexOf(",")?o.split(","):[],a=a||(window.pageName?window.pageName:document.location.href),o[0]=decodeURIComponent(o[0]),window.ppvChange=void 0===i||1==i,void 0!==r&&r.linkType&&"o"===r.linkType||(window.ppvID&&window.ppvID===a||(window.ppvID=a,window.cookieWrite("s_ppv",""),n()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",n,!1),window.addEventListener("click",n,!1),window.addEventListener("scroll",n,!1)),this._ppvPreviousPage=o[0]?o[0]:"",this._ppvHighestPercentViewed=o[1]?o[1]:"",this._ppvInitialPercentViewed=o[2]?o[2]:"",this._ppvHighestPixelsSeen=o[3]?o[3]:"",this._ppvFoldsSeen=o[4]?o[4]:"",this._ppvFoldsAvailable=o[5]?o[5]:"")},window.getQueryParam=function(e,t,n){function a(e,t){var n=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<n||t.indexOf("=")>n))for(var a=0,i=(n=(n=t.substring(n+1)).split("&")).length;a<i;a++){var r=n[a].split("="),o=r[1];if(r[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(o||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==i&&(i.contextData.getQueryParam="4.0"),e){t=t||"",n=(n||void 0!==i&&i.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&n&&4>n.length&&(i=t,t=n,n=i),i="";for(var r=e.split(","),o=r.length,s=0;s<o;s++)"string"==typeof(e=a(r[s],n))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,i+=i?t+e:e):i=""===i?e:i+(t+e);return i}},window.getTimeBetweenEvents=function(e,t,n,i,r,o,s,c,l){var u=e,d=t,f=n,p=i,m=r,v=o,_=s,h=c,b=l;if("-v"===u)return{plugin:"getTimeBetweenEvents",version:"3.0"};var y=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==y&&(y.contextData.getTimeBetweenEvents="3.0",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,i=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){i=2<i?i:2;var r=a.lastIndexOf(".");if(0<=r){for(;0<=r&&1<i;)r=a.lastIndexOf(".",r-1),i--;r=0<r?a.substring(r):a}}if(g=r,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>a?t.length:a)))?e:""},window.formatTime=window.formatTime||function(e,t,n){function i(e,t,n,i){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==i&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var r="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!i("h,m,s",t))&&86400<=e?(t=86400,r="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!i("m,s",t))&&3600<=e?(t=3600,r="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!i("s",t))&&60<=e?(t=60,r="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,r="seconds",n=isNaN(n)?.2:t/n),0===(r=Math.round(e*n/t)/n+" "+r).indexOf("1 ")&&(r=r.substring(0,r.length-1)),r}},window.inList=window.inList||function(e,t,n,i){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==i&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},"string"==typeof u&&void 0!==d&&"string"==typeof f&&void 0!==p)){m=m||"s_tbe",v=isNaN(v)?1:Number(v);var w=!1,D=!1,C=u.split(","),P=f.split(",");b=b?b.split(","):[];for(var j,E=window.cookieRead(m),I=new Date,x=I.getTime(),S=new Date,V=0;V<b.length;++V)if(window.inList(y.events,b[V]))return S.setDate(S.getDate()-1),void window.cookieWrite(m,"",S);for(S.setTime(S.getTime()+864e5*v),V=0;V<C.length&&!w&&!0!==(w=window.inList(y.events,C[V]));++V);for(V=0;V<P.length&&!D&&!0!==(D=window.inList(y.events,P[V]));++V);return 1===C.length&&1===P.length&&u===f&&w&&D?(E&&(j=(x-E)/1e3),window.cookieWrite(m,x,v?S:0)):(!w||1!=d&&E||window.cookieWrite(m,x,v?S:0),D&&E&&(j=(I.getTime()-E)/1e3,!0===p&&(S.setDate(S.getDate()-1),window.cookieWrite(m,"",S)))),j?window.formatTime(j,_,h):""}},window.getTimeParting=function(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var n,a=0;a<window.s_c_il.length;a++)if((n=window.s_c_il[a])._c&&"s_c"===n._c){a=n;break e}a=void 0}return void 0!==a&&(a.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",a=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a))[4]+" | month="+a[2]+" | date="+a[3]+" | day="+a[1]+" | time="+(a[6]+a[7])},window.getTimeToComplete=function(e,t,n,i){var r=e,o=t,s=n,c=i;if("-v"===r)return{plugin:"getTimeToComplete",version:"4.0"};var l=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==l&&(l.contextData.getTimeToComplete="4.0"),window.formatTime=window.formatTime||function(e,t,n){function i(e,t,n,i){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==i&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var r="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!i("h,m,s",t))&&86400<=e?(t=86400,r="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!i("m,s",t))&&3600<=e?(t=3600,r="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!i("s",t))&&60<=e?(t=60,r="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,r="seconds",n=isNaN(n)?.2:t/n),0===(r=Math.round(e*n/t)/n+" "+r).indexOf("1 ")&&(r=r.substring(0,r.length-1)),r}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,i=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){i=2<i?i:2;var r=a.lastIndexOf(".");if(0<=r){for(;0<=r&&1<i;)r=a.lastIndexOf(".",r-1),i--;r=0<r?a.substring(r):a}}if(g=r,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>a?t.length:a)))?e:""},"stop"===(r=r?r.toLowerCase():"start")||"start"===r){if(o=o||"s_gttc",c?c="d"===c?864e5:"h"===c?36e5:"s"===c?1e3:6e4:(s=30,c=6e4),s=isNaN(s)?30:s,s*=c,l=cookieRead(o),c=new Date,"stop"===r&&l)return s=Math.round((c.getTime()-l)/1e3),cookieWrite(o,"",0),formatTime(s);"start"!==r||l?l&&Number(l)<c.getTime()+18e5&&cookieWrite(o,l,30):(r=String(c.getTime()),c.setTime(c.getTime()+s),cookieWrite(o,r,c))}},window.getPreviousValue=function(e,t){var n=e,a=t;if("-v"===n)return{plugin:"getPreviousValue",version:"3.0"};var i,r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==r&&(r.contextData.getPreviousValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,i=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){i=2<i?i:2;var r=a.lastIndexOf(".");if(0<=r){for(;0<=r&&1<i;)r=a.lastIndexOf(".",r-1),i--;r=0<r?a.substring(r):a}}if(g=r,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>a?t.length:a)))?e:""},a=a||"s_gpv",(r=new Date).setTime(r.getTime()+18e5),window.cookieRead(a)&&(i=window.cookieRead(a)),n?window.cookieWrite(a,n,r):window.cookieWrite(a,i,r),i};var t="object"==typeof window.digitalData&&"object"==typeof window.digitalData.events?window.digitalData.events:{};if(t.pageView&&e&&e.xdm&&e.xdm.web&&e.xdm.web.webPageDetails&&e.xdm.web.webPageDetails.pageViews&&1==e.xdm.web.webPageDetails.pageViews.value&&e.xdm.web.webPageDetails.name&&(e.xdm._experience.analytics.customDimensions.eVars.eVar9=_satellite.cookie.get("s_gpv_pn")||"",e.xdm._experience.analytics.customDimensions.props.prop9=e.xdm._experience.analytics.customDimensions.eVars.eVar9?e.xdm._experience.analytics.customDimensions.eVars.eVar9:"",""!=_satellite.getVar("digitalData_full_page_name")&&_satellite.cookie.set("s_gpv_pn",_satellite.getVar("digitalData_full_page_name"),{domain:_satellite.getVar("root_domain")}),null!=e.xdm._experience&&null!=e.xdm._experience.analytics&&null!=e.xdm._experience.analytics.event1to100&&null!=e.xdm._experience.analytics.event1to100.event1&&1==e.xdm._experience.analytics.event1to100.event1.value&&getTimeToComplete("start","s_gttc",30,"m"),null!=e.xdm._experience&&null!=e.xdm._experience.analytics&&null!=e.xdm._experience.analytics.event1to100&&null!=e.xdm._experience.analytics.event1to100.event2&&1==e.xdm._experience.analytics.event1to100.event2.value&&(e.xdm._experience.analytics.customDimensions.eVars.eVar2=getTimeToComplete("stop","s_gttc"))),e&&e.xdm&&e.xdm.web&&e.xdm.web.webPageDetails&&e.xdm.web.webPageDetails.name){var n=getTimeParting("America/Toronto").split("|");e.xdm._experience.analytics.customDimensions.eVars.eVar30=n[n.length-1].substr(6)+"|"+n[n.length-2].substr(5).trim(),e.xdm._experience.analytics.customDimensions.props.prop30=n[n.length-1].substr(6)+"|"+n[n.length-2].substr(5).trim()}if(e&&e.xdm&&e.xdm.web&&e.xdm.web.webInteraction&&("download"!==e.xdm.web.webInteraction.type&&"exit"!==e.xdm.web.webInteraction.type||"Link Click"!==e.xdm.web.webInteraction.name||(e.xdm.web.webPageDetails.URL=_satellite.getVar("digitalData_page_url"),e.xdm.web.webPageDetails.name=_satellite.getVar("digitalData_full_page_name"),e.xdm.web.webPageDetails.siteSection=_satellite.getVar("digitalData_site_name_final"),e.xdm.web.webInteraction.name=""!=e.xdm.web.webInteraction.URL?e.xdm.web.webInteraction.URL:e.xdm.web.webInteraction.name),"other"===e.xdm.web.webInteraction.type&&"Link Click"===e.xdm.web.webInteraction.name))return!1;t.pageView&&e&&e.xdm&&e.xdm.web&&e.xdm.web.webPageDetails&&e.xdm.web.webPageDetails.pageViews&&1==e.xdm.web.webPageDetails.pageViews.value&&""!==_satellite.cookie.get("internalCampaign")&&e.xdm._experience.analytics.customDimensions.eVars.eVar35==_satellite.cookie.get("internalCampaign")&&_satellite.cookie.remove("internalCampaign"),window.qa_automation=e},stagingEdgeConfigId:"%alloy_stream_id%",developmentEdgeConfigId:"%alloy_stream_id%"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/dataElements/identityMap/index.js":{name:"identity-map",displayName:"Identity map",script:function(e,t,n,a){"use strict";var i=n("./createIdentityMap")({logger:a.logger});e.exports=function(e){return i(e)}}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n){"use strict";var a=n("./createSendEvent"),i=n("../../instanceManager/index"),r=n("../../sendEventCallbackStorage");e.exports=a({instanceManager:i,sendEventCallbackStorage:r})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,a){"use strict";var i=n("../alloy"),r=i.createInstance,o=i.createEventMergeId,s=n("./createInstanceManager"),c=n("./injectWrapOnBeforeEventSend")({version:"2.13.0"});e.exports=s({turbine:a,window:window,createInstance:r,createEventMergeId:o,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:c})}},"adobe-alloy/dist/lib/dataElements/identityMap/createIdentityMap.js":{script:function(e){"use strict";e.exports=function(e){var t=e.logger;return function(e){return Object.keys(e).reduce((function(n,a){var i=e[a].filter((function(e,n){var i=e.id,r="string"==typeof i&&i.length;return r||t.log("The identifier at ".concat(a,"[").concat(n,"] was removed from the identity map because its ID is not a populated string. Its ID value is:"),i),r}));return i.length?n[a]=i:t.log("The ".concat(a," namespace was removed from the identity map because it contains no identifiers.")),n}),{})}}}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}var r=n("../../utils/clone");e.exports=function(e){var t=e.instanceManager,n=e.sendEventCallbackStorage;return function(e){var i=e.instanceName,o=a(e,["instanceName"]),s=t.getInstance(i);if(!s)throw new Error('Failed to send event for instance "'.concat(i,'". No matching instance was configured with this name.'));return o.xdm&&(o.xdm=r(o.xdm)),o.data&&(o.data=r(o.data)),s("sendEvent",o).then((function(e){n.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/sendEventCallbackStorage.js":{script:function(e){"use strict";var t=[];e.exports={add:function(e){t.push(e)},triggerEvent:function(e){t.forEach((function(t){t(e)}))}}}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(e){return l(e)||c(e)||f(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){if(Array.isArray(e))return g(e)}function u(e,t){return m(e)||p(e,t)||f(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function p(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return r}}function m(e){if(Array.isArray(e))return e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){return e(t={exports:{}},t.exports),t.exports}function w(e,t){var n=t||0,a=_t;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")}function D(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||vt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var r=0;r<16;++r)t[a+r]=i[r];return t||bt(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.createInstance=t.createEventMergeId=void 0;for(var C=a(n("@adobe/reactor-object-assign")),P=a(n("@adobe/reactor-cookie")),j=a(n("@adobe/reactor-query-string")),E=a(n("@adobe/reactor-load-script")),I="Chrome",x="Edge",S="EdgeChromium",V="Firefox",k="IE",O="Safari",R="Unknown",T=function(e,t){return-1!==e.indexOf(t)},A=[I,x,S,k,R],N=function(e){return T(A,e)},B=function(e){return null==e},L=function(e){return!B(e)&&!Array.isArray(e)&&"object"===b(e)},q=function e(t,n){Object.keys(n).forEach((function(a){L(t[a])&&L(n[a])?e(t[a],n[a]):t[a]=n[a]}))},M=function(e){if(B(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.forEach((function(e){return q(t,Object(e))})),t},F=function(e,t){return function(n){var a=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);M(a,n)}},U=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Promise.all(e.map((function(e){return e.apply(void 0,n)})))}}},z=function(e){var t=e.logger,n=e.cookieJar;return _(_({},n),{},{set:function(e,a,i){t.info("Setting cookie",_({name:e,value:a},i)),n.set(e,a,i)}})},H=function(){var e=0,t=Promise.resolve();return{addTask:function(n){e+=1;var a=function(){return n().finally((function(){e-=1}))};return t=t.then(a,a)},get length(){return e}}},G=function(){for(var e=[],t=0;t<256;t++){for(var n=t,a=0;a<8;a++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var a=0;a<t.length;a++){var i=255&(n^t.charCodeAt(a));n=n>>>8^e[i]}return(n^=-1)>>>0}}(),W=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},Q=function(e,t){return e.substr(-t.length)===t},J=function(e,t){for(var n=0;n<e.length;n+=1){var a=e[n];if(t(a,n,e))return a}},$=function(e,t){return e.appendChild(t)},X=function(e,t){Object.keys(t).forEach((function(n){if("style"===n&&L(t[n])){var a=t[n];Object.keys(a).forEach((function(t){e.style[t]=a[t]}))}else e[n]=t[n]}))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){i.setAttribute(e,t[e])})),X(i,n),a.forEach((function(e){return $(i,e)})),i},Z="BODY",K="IFRAME",ee="IMG",te="DIV",ne="STYLE",ae="SCRIPT",ie="HEAD",re=function(e){var t=e.src,n=e.currentDocument,a=void 0===n?document:n;return new Promise((function(e,n){Y(ee,{src:t},{onload:e,onerror:n,onabort:n},[],a)}))},oe=function(e){return"function"==typeof e},se=function(e){return Array.isArray(e)&&e.length>0},ce=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},le=/^\s*>/,ue=function(e,t){if(!le.test(t))return ce(e.querySelectorAll(t));var n="alloy-".concat(Date.now());try{return e.classList.add(n),ce(e.querySelectorAll(".".concat(n," ").concat(t)))}finally{e.classList.remove(n)}},de=function(e,t){return e.substr(0,t.length)===t},fe=":shadow",ge=function(e){return e.split(fe)},pe=function(e,t){var n=t.trim();if(!de(n,">"))return n;if(window.document.documentMode)return n.substring(1).trim();var a=e instanceof Element||e instanceof HTMLDocument?":scope":":host";return"".concat(a," ").concat(n)},me=function(e,t){if(!window.document.documentElement.attachShadow)return ue(e,t.replace(fe,""));var n=ge(t);if(n.length<2)return ue(e,t);for(var a=e,i=0;i<n.length;i+=1){var r=pe(a,n[i]),o=ue(a,r);if(0===o.length||!o[0]||!o[0].shadowRoot)return o;a=o[0].shadowRoot}},ve=function(e){return-1!==e.indexOf(fe)},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return ve(e)?me(t,e):ue(t,e)},he="MutationObserver",be="requestAnimationFrame",ye={childList:!0,subtree:!0},we="visibilityState",De="visible",Ce=100,Pe=5e3,je=function(e){return new Error("Could not find: ".concat(e))},Ee=function(e){return new Promise(e)},Ie=function(e){return oe(e[he])},xe=function(e,t,n,a,i){return Ee((function(r,o){var s=new e[he]((function(){var e=i(n);se(e)&&(s.disconnect(),r(e))}));setTimeout((function(){s.disconnect(),o(je(n))}),a),s.observe(t,ye)}))},Se=function(e){return e[we]===De},Ve=function(e,t,n,a){return Ee((function(i,r){(function n(){var r=a(t);se(r)?i(r):e[be](n)})(),setTimeout((function(){r(je(t))}),n)}))},ke=function(e,t,n){return Ee((function(a,i){(function t(){var i=n(e);se(i)?a(i):setTimeout(t,Ce)})(),setTimeout((function(){i(je(e))}),t)}))},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,r=t(e);return se(r)?Promise.resolve(r):Ie(a)?xe(a,i,e,n,t):Se(i)?Ve(a,e,n,t):ke(e,n,t)},Re=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},Te=function(e){var t=e.parentNode;return t?t.removeChild(e):null},Ae={name:"Adobe Alloy"},Ne={style:{display:"none",width:0,height:0}},Be=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.appendNode,a=void 0===n?$:n,i=t.awaitSelector,r=void 0===i?Oe:i,o=t.createNode,s=void 0===o?Y:o,c=t.fireImage,l=void 0===c?re:c,d=l,f=function(){return r(Z).then((function(t){var n=u(t,1)[0];return e||(e=s(K,Ae,Ne),a(n,e))}))},g=function(e){var t=e.src;return f().then((function(e){var n=e.contentWindow.document;return l({src:t,currentDocument:n})}))};return function(e){var t=e.hideReferrer,n=e.url;return t?g({src:n}):d({src:n})}},Le=function(e,t){return Array.prototype.concat.apply([],e.map(t))},qe="com.adobe.alloy.",Me=function(e,t){return e.slice(-t)},Fe="".concat(qe,"getTld"),Ue=function(e,t){for(var n="",a=e.location.hostname.toLowerCase().split("."),i=1;i<a.length&&!t.get(Fe);)n=Me(a,i+=1).join("."),t.set(Fe,Fe,{domain:n});return t.remove(Fe,{domain:n}),n},ze="kndctr",He=function(e){return e.replace("@","_")},Ge=function(e,t){return"".concat(ze,"_").concat(He(e),"_").concat(t)},We="identity",Qe="consent",Je="cluster",$e=function(e){var t=e.orgId,n=Ge(t,We);return function(){return Boolean(P.default.get(n))}},Xe=function(e,t,n){return{getItem:function(a){try{return e[t].getItem(n+a)}catch(e){return null}},setItem:function(a,i){try{return e[t].setItem(n+a,i),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(a){de(a,n)&&e[t].removeItem(a)})),!0}catch(e){return!1}}}},Ye=function(e){return function(t){var n=qe+t;return{session:Xe(e,"sessionStorage",n),persistent:Xe(e,"localStorage",n)}}},Ze=function(e,t){return e.filter((function(e){return T(t,e)}))},Ke=function(e){return"boolean"==typeof e},et=function(e){return L(e)&&0===Object.keys(e).length},tt=function(e){return"number"==typeof e&&!isNaN(e)},nt=function(e){var t=parseInt(e,10);return tt(t)&&e===t},at=function(e,t){return 0===t.indexOf("".concat(ze,"_").concat(He(e),"_"))},it=function(e){return"string"==typeof e},rt=function(e){return it(e)&&e.length>0},ot=function(e,t){var n=new Map;return function(){var a=t?t.apply(void 0,arguments):arguments.length<=0?void 0:arguments[0];if(n.has(a))return n.get(a);var i=e.apply(void 0,arguments);return n.set(a,i),i}},st=function(){},ct=function(e,t,n){var a=String(e),i=String(n);if(a.length>=t||0===i.length)return a;for(var r=t-a.length;r>i.length;)i+=i;return i.slice(0,r)+a},lt=function(e){return e instanceof Error?e:new Error(e)},ut=function(e){var t=e.error,n=e.message;try{t.message=n}catch(e){}},dt=function(e){var t=e.error,n=e.message,a=lt(t),i="".concat(n,"\nCaused by: ").concat(a.message);return ut({error:a,message:i}),a},ft=function(e){return it(e)&&"true"===e.toLowerCase()},gt=function(e,t){var n=Math.round(Number(e));return isNaN(n)?t:n},pt=function(e){var t=e.getFullYear(),n=ct(e.getMonth()+1,2,"0"),a=ct(e.getDate(),2,"0"),i=ct(e.getHours(),2,"0"),r=ct(e.getMinutes(),2,"0"),o=ct(e.getSeconds(),2,"0"),s=ct(e.getMilliseconds(),3,"0"),c=gt(e.getTimezoneOffset(),0),l=c>0?"-":"+",u=ct(Math.floor(Math.abs(c)/60),2,"0"),d=ct(Math.abs(c)%60,2,"0");return"".concat(t,"-").concat(n,"-").concat(a,"T").concat(i,":").concat(r,":").concat(o,".").concat(s).concat(l).concat(u,":").concat(d)},mt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt=y((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}})),_t=[],ht=0;ht<256;++ht)_t[ht]=(ht+256).toString(16).substr(1);var bt=w,yt=D,wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(n,a){return t(e(n,a),a)};return(0,C.default)(a,e,n),a},Dt=function(e,t,n){return wt(e,(function(e,n){return null==e?e:t(e,n)}),n)},Ct=function(e,t,n,a){if(!e)throw new Error("'".concat(n,"': Expected ").concat(a,", but got ").concat(JSON.stringify(t),"."))},Pt=function(e,t){return Ct(Ke(e),e,t,"true or false"),e},jt=function(e,t){return Ct(oe(e),e,t,"a function"),e},Et=function(e){return function(t,n){Ct(Array.isArray(t),t,n,"an array");var a=[],i=t.map((function(t,i){try{return e(t,"".concat(n,"[").concat(i,"]"))}catch(e){return void a.push(e.message)}}));if(a.length)throw new Error(a.join("\n"));return i}},It=function(e){return function(t){return null==t?e:t}},xt=function(e){return function(t,n){return Ct(t===e,t,n,"".concat(e)),t}},St=function(e){return function(t,n){Ct(L(t),t,n,"an object");var a=[],i={};if(Object.keys(t).forEach((function(r){
var o=t[r],s=n?"".concat(n,".").concat(r):r;try{var c=e(o,s);void 0!==c&&(i[r]=c)}catch(e){a.push(e.message)}})),a.length)throw new Error(a.join("\n"));return i}},Vt=function(e,t){return function(n,a){return Ct(n>=t,n,a,"".concat(e," greater than or equal to ").concat(t)),n}},kt=function(e){return function(t,n){var a=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var i=n?"".concat(n,".").concat(t):t;a.push("'".concat(i,"': Unknown field."))}})),a.length)throw new Error(a.join("\n"));return t}},Ot=function(e){return function(t,n){return L(t)?Ct(!et(t),t,n,e):Ct(t.length>0,t,n,e),t}},Rt=function(e){return function(t,n){Ct(L(t),t,n,"an object");var a=[],i={};if(Object.keys(e).forEach((function(r){var o=t[r],s=e[r],c=n?"".concat(n,".").concat(r):r;try{var l=s(o,c);void 0!==l&&(i[r]=l)}catch(e){a.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(i,e)||(i[e]=t[e])})),a.length)throw new Error(a.join("\n"));return i}},Tt=function(e,t){return function(n,a){var i=J(e,(function(e){try{return e(n,a),!0}catch(e){return!1}}));return Ct(i,n,a,t),n}},At=function(){var e=[];return function(t,n){return Ct(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t}},Nt=/^[a-z0-9.-]{1,}$/i,Bt=function(e,t){return Ct(Nt.test(e),e,t,"a valid domain"),e},Lt=function(e,t){return Ct(nt(e),e,t,"an integer"),e},qt=function(e,t){return Ct(tt(e),e,t,"a number"),e},Mt=function(e){try{return null!==new RegExp(e)}catch(e){return!1}},Ft=function(e,t){return Ct(Mt(e),e,t,"a regular expression"),e},Ut=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},zt=function(e,t){return Ct(it(e),e,t,"a string"),e},Ht=function(e){return e};Ht.default=function(e){return wt(this,It(e))},Ht.required=function(){return wt(this,Ut)};var Gt=function(){return Dt(this,Bt)},Wt=function(e){return Dt(this,Vt("an integer",e))},Qt=function(e){return Dt(this,Vt("a number",e))},Jt=function(){return Dt(this,Lt,{minimum:Wt})},$t=function(){return Dt(this,Ot("a non-empty string"))},Xt=function(){return Dt(this,Ot("a non-empty array"))},Yt=function(){return Dt(this,Ot("a non-empty object"))},Zt=function(){return Dt(this,Ft)},Kt=function(){return Dt(this,At())},en=function(){return Dt(this,Ht)},tn=function(e){return Dt(this,Et(e),{nonEmpty:Xt})},nn=function(){return Dt(this,Pt)},an=function(){return Dt(this,jt)},rn=function(e){return Dt(this,xt(e))},on=function(){return Dt(this,qt,{minimum:Qt,integer:Jt,unique:Kt})},sn=function(e){return Dt(this,St(e),{nonEmpty:Yt})},cn=function(e){var t=function(){return Dt(this,kt(e))};return Dt(this,Rt(e),{noUnknownFields:t,nonEmpty:Yt})},ln=function(){return Dt(this,zt,{regexp:Zt,domain:Gt,nonEmpty:$t,unique:Kt})},un=function(e,t){return wt(this,Tt(e,t))}.bind(Ht),dn=en.bind(Ht),fn=tn.bind(Ht),gn=nn.bind(Ht),pn=an.bind(Ht),mn=rn.bind(Ht);on.bind(Ht);var vn=sn.bind(Ht),_n=cn.bind(Ht),hn=ln.bind(Ht),bn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return un(t.map(mn),"one of these values: [".concat(JSON.stringify(t),"]"))},yn=vn(fn(_n({authenticatedState:bn("ambiguous","authenticated","loggedOut"),id:hn(),namespace:_n({code:hn()}).noUnknownFields(),primary:gn(),xid:hn()})).required()),wn="alloy_debug",Dn=function(e){var t=e.console,n=e.locationSearch,a=e.createLogger,i=e.instanceName,r=e.createNamespacedStorage,o=e.getMonitors,s=j.default.parse(n),c=r("instance.".concat(i,".")),l=c.session.getItem("debug"),u="true"===l,d=null===l,f=function(){return u},g=function(e,t){var n=t.fromConfig;n&&!d||(u=e),n||(c.session.setItem("debug",e.toString()),d=!1)};return void 0!==s[wn]&&g(ft(s[wn]),{fromConfig:!1}),{setDebugEnabled:g,logger:a({getDebugEnabled:f,context:{instanceName:i},getMonitors:o,console:t}),createComponentLogger:function(e){return a({getDebugEnabled:f,context:{instanceName:i,componentName:e},getMonitors:o,console:t})}}},Cn=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick"],Pn=function(e,t){return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,a))}))})))}},jn=function(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Promise.resolve().then((function(){return e.apply(void 0,n)}))}},En=function(e){return Cn.reduce((function(t,n){return t[n]=jn(Pn(e,n)),t}),{})},In=function(e,t){return function(){var n;try{n=e.apply(void 0,arguments)}catch(e){throw dt({error:e,message:t})}return n instanceof Promise&&(n=n.catch((function(e){throw dt({error:e,message:t})}))),n}},xn=function(){var e={},t={},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Ze(Object.keys(e),Object.keys(n));if(a.length)throw new Error("[ComponentRegistry] Could not register ".concat(t," ")+"because it has existing command(s): ".concat(a.join(",")));Object.keys(n).forEach((function(a){var i=n[a];i.commandName=a,i.run=In(i.run,"[".concat(t,"] An error occurred while executing the ").concat(a," command.")),e[a]=i}))},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(n).forEach((function(a){t[a]=t[a]||[],t[a].push(In(n[a],"[".concat(e,"] An error occurred while executing the ").concat(a," lifecycle hook.")))}))};return{register:function(e,t){var i=t.commands,r=t.lifecycle;n(e,i),a(e,r)},getCommand:function(t){return e[t]},getCommandNames:function(){return Object.keys(e)},getLifecycleCallbacks:function(e){return t[e]||[]}}},Sn=function(e){var t=e.logger,n=e.sendFetchRequest,a=e.sendBeaconRequest,i=e.isRequestRetryable,r=e.getRequestRetryDelay;return function(e){var o=e.requestId,s=e.url,c=e.payload,l=e.useSendBeacon,u=JSON.stringify(c),d=JSON.parse(u);t.logOnBeforeNetworkRequest({url:s,requestId:o,payload:d});var f=function e(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(l?a:n)(s,u).then((function(n){var a;if(i({response:n,retriesAttempted:c})){var l=r({response:n,retriesAttempted:c});return new Promise((function(t){setTimeout((function(){t(e(c+1))}),l)}))}try{a=JSON.parse(n.body)}catch(e){}return t.logOnNetworkResponse(_(_({requestId:o,url:s,payload:d},n),{},{parsedBody:a,retriesAttempted:c})),{statusCode:n.statusCode,body:n.body,parsedBody:a,getHeader:n.getHeader}}))};return f().catch((function(e){throw t.logOnNetworkError({requestId:o,url:s,payload:d,error:e}),dt({error:e,message:"Network request failed."})}))}},Vn=function(e){var t=e.logger;return function(e){if(e){var n=e.split(";");if(n.length>=2&&n[1].length>0)try{var a=parseInt(n[1],10);if(!isNaN(a))return{regionId:a}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},kn="in",On="out",Rn="pending",Tn="general",An="declinedConsent",Nn="default",Bn="initial",Ln="new",qn=function(e){var t=new Error(e);return t.code=An,t.message=e,t},Mn=function(e){var t=e.logger,n=[],a=function(){for(;n.length;)n.shift().resolve()},i=function(){for(;n.length;)n.shift().reject(qn("The user declined consent."))},r=function(){return Promise.resolve()},o=function(){return Promise.resolve()},s=function(){return Promise.reject(qn("No consent preferences have been set."))},c=function(){return Promise.reject(qn("The user declined consent."))},l=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=W();return n.push(t),t.promise};return{in:function(e){e===Nn?this.awaitConsent=r:(e===Bn?t.info("Loaded user consent preferences. The user previously consented."):e===Ln&&this.awaitConsent!==o&&t.info("User consented."),a(),this.awaitConsent=o)},out:function(e){e===Nn?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(e===Bn?t.warn("Loaded user consent preferences. The user previously declined consent."):e===Ln&&this.awaitConsent!==c&&t.warn("User declined consent."),i(),this.awaitConsent=c)},pending:function(e){e===Nn&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:function(){return Promise.reject(new Error("Consent has not been initialized."))},withConsent:function(){return this.awaitConsent(!0)}}},Fn=function(e){var t=e.generalConsentState,n=e.logger,a=function(e,a){switch(e[Tn]){case kn:t.in(a);break;case On:t.out(a);break;case Rn:t.pending(a);break;default:n.warn("Unknown consent value: ".concat(e[Tn]))}};return{initializeConsent:function(e,t){t[Tn]?a(t,Bn):a(e,Nn)},setConsent:function(e){a(e,Ln)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()}}},Un=function(){var e,t,n={},a=!1,i=!1,r=!0,o=function(e){if(i)throw new Error("".concat(e," cannot be called after event is finalized."))},s={setUserXdm:function(t){o("setUserXdm"),e=t},setUserData:function(e){o("setUserData"),t=e},mergeXdm:function(e){o("mergeXdm"),e&&M(n,{xdm:e})},mergeMeta:function(e){o("mergeMeta"),e&&M(n,{meta:e})},mergeQuery:function(e){o("mergeQuery"),e&&M(n,{query:e})},documentMayUnload:function(){a=!0},finalize:function(a){if(!i&&(e&&s.mergeXdm(e),t&&(n.data=t),i=!0,a)){r=!1;var o={xdm:n.xdm||{},data:n.data||{}},c=a(o);r=!1!==c,n.xdm=o.xdm||{},n.data=o.data||{},et(n.xdm)&&delete n.xdm,et(n.data)&&delete n.data}},getDocumentMayUnload:function(){return a},isEmpty:function(){return et(n)&&(!e||et(e))&&(!t||et(t))},shouldSend:function(){return r},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!i)throw new Error("toJSON called before finalize");return n}};return s},zn="Retry-After",Hn="x-adobe-edge",Gn=function(e){var t=e.extractEdgeInfo;return function(e){var n=e.content,a=void 0===n?{}:n,i=e.getHeader,r=a.handle,o=void 0===r?[]:r,s=a.errors,c=void 0===s?[]:s,l=a.warnings,u=void 0===l?[]:l;return{getPayloadsByType:function(e){return Le(o.filter((function(t){return t.type===e})),(function(e){return e.payload}))},getErrors:function(){return c},getWarnings:function(){return u},getEdge:function(){return t(i(Hn))},toJSON:function(){return a}}}},Wn="configure",Qn="setDebug",Jn=function(e){var t,n=e.logger,a=e.configureCommand,i=e.setDebugCommand,r=e.handleError,o=e.validateCommandOptions,s=function(e,r){var s;if(e===Wn){if(t)throw new Error("The library has already been configured and may only be configured once.");s=function(){return(t=a(r)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=e===Qn?function(){return i(r)}:function(){return t.then((function(t){var n=t.getCommand(e);if(!n||!oe(n.run)){var a=[Wn,Qn].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(a,"."))}var i=o({command:n,options:r});return n.run(i)}),(function(){return n.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return s};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a){var i=s(e,t);n.logOnBeforeCommand({commandName:e,options:t}),a(i())})).catch((function(t){return r(t,"".concat(e," command"))})).catch((function(a){throw n.logOnCommandRejected({commandName:e,options:t,error:a}),a})).then((function(a){var i=L(a)?a:{};return n.logOnCommandResolved({commandName:e,options:t,result:i}),i}))}},$n="https://adobe.ly/3sHgQHb",Xn=function(e){var t=e.command,n=e.options,a=t.commandName,i=t.documentationUri,r=void 0===i?$n:i,o=t.optionsValidator,s=n;if(o)try{s=o(n)}catch(e){var c="Invalid ".concat(a," command options:\n\t - ").concat(e," For command documentation see: ").concat(r);throw new Error(c)}return s},Yn=function(e){var t=e.options;return _n({type:hn(),xdm:_n({eventType:hn(),identityMap:yn}),data:_n({}),renderDecisions:gn(),decisionScopes:fn(hn()),datasetId:hn()}).required()(t)},Zn=function(e){var t=e.eventManager;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return Yn({options:e})},run:function(e){var n=e.xdm,a=e.data,i=e.documentUnloading,r=void 0!==i&&i,o=e.type,s=e.mergeId,c=e.renderDecisions,l=void 0!==c&&c,u=e.decisionScopes,d=void 0===u?[]:u,f=e.datasetId,g=t.createEvent();return r&&g.documentMayUnload(),g.setUserXdm(n),g.setUserData(a),o&&g.mergeXdm({eventType:o}),s&&g.mergeXdm({eventMergeId:s}),f&&g.mergeMeta({collect:{datasetId:f}}),t.sendEvent(g,{renderDecisions:l,decisionScopes:d})}}}}};Zn.namespace="DataCollector",Zn.configValidators={};var Kn=function(e){var t=e.eventManager,n=e.lifecycle,a=e.handleError;return function(e){var i=e.target,r=t.createEvent();return n.onClick({event:r,clickedElement:i}).then((function(){return r.isEmpty()?Promise.resolve():t.sendEvent(r)})).then(st).catch((function(e){a(e,"click collection")}))}},ea=function(e){var t=e.config,n=e.eventManager,a=e.lifecycle,i=e.handleError;if(t.clickCollectionEnabled){var r=Kn({eventManager:n,lifecycle:a,handleError:i});document.addEventListener("click",r,!0)}},ta={clickCollectionEnabled:gn().default(!0),downloadLinkQualifier:hn().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$")},na=function(e){return e&&/^[a-z0-9]+:\/\//i.test(e)},aa=function(e,t){var n=e.location,a=t.href?t.href:"",i=t.protocol,r=t.host;if(!na(a)){i||(i=n.protocol?n.protocol:""),i=i?"".concat(i,"//"):"",r||(r=n.host?n.host:"");var o="";if("/"!==a.substring(0,1)){var s=n.pathname.lastIndexOf("/");s=s<0?0:s,o=n.pathname.substring(0,s)}a="".concat(i).concat(r).concat(o,"/").concat(a)}return a},ia=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},ra=function(e,t,n){var a=new RegExp(e);return!!n.download||a.test(t.toLowerCase())},oa=function(e,t){var n=e.location.hostname.toLowerCase();return!(t.toLowerCase().indexOf(n)>=0)},sa=function(e,t,n,a){var i="other";return ra(t.downloadLinkQualifier,n,a)?i="download":oa(e,n)&&(i="exit"),i},ca=function(e){for(var t=e;t;){if(ia(t))return t;t=t.parentNode}return null},la=function(e,t){return function(n,a){var i=ca(a);if(i){var r=aa(e,i);if(r){var o=sa(e,t,r,i),s="Link Click";n.documentMayUnload(),n.mergeXdm({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:s,type:o,URL:r,linkClicks:{value:1}}}})}}}},ua=function(e){var t=e.config,n=e.eventManager,a=e.handleError,i=la(window,t);return{lifecycle:{onComponentsRegistered:function(e){var i=e.lifecycle;ea({config:t,eventManager:n,lifecycle:i,handleError:a})},onClick:function(e){var t=e.event,n=e.clickedElement;i(t,n)}}}};ua.namespace="ActivityCollector",ua.configValidators=ta;var da=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},fa=function(e){var t=e.fireReferrerHideableImage,n=e.logger;return function(e){var a=e.filter((function(e){return"url"===e.type}));return a.length?Promise.all(a.map((function(e){return t(e.spec).then((function(){n.info(da(e,!0))})).catch((function(){n.error(da(e,!1))}))}))).then(st):Promise.resolve()}},ga={thirdPartyCookiesEnabled:gn().default(!0),idMigrationEnabled:gn().default(!0)},pa=function(e){var t=_n({namespaces:fn(mn("ECID")).nonEmpty()}).noUnknownFields();return t(e),{namespaces:["ECID"]}},ma=_n({url:hn().required().nonEmpty()}).required().noUnknownFields(),va=function(e){var t,n=e.addEcidQueryToPayload,a=e.addQueryStringIdentityToPayload,i=e.ensureSingleIdentity,r=e.setLegacyEcid,o=e.handleResponseForIdSyncs,s=e.getEcidFromResponse,c=e.getIdentity,l=e.consent,u=e.appendIdentityToUrl,d=e.logger,f={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,r=e.onResponse,o=e.onRequestFailure;return n(t.getPayload()),a(t.getPayload()),i({request:t,onResponse:r,onRequestFailure:o})},onResponse:function(e){var n=e.response;return t||(t=s(n))&&r(t),f=(0,C.default)(f,n.getEdge()),o(n)}},commands:{getIdentity:{optionsValidator:pa,run:function(e){return l.awaitConsent().then((function(){return t?void 0:c(e.namespaces)})).then((function(){return{identity:{ECID:t},edge:f}}))}},appendIdentityToUrl:{optionsValidator:ma,run:function(e){return l.withConsent().then((function(){return t?void 0:c(e.namespaces)})).then((function(){return{url:u(t,e.url)}})).catch((function(t){return d.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},_a=function(e){var t=e.config,n=e.getEcidFromVisitor,a=e.apexDomain,i=e.isPageSsl,r=e.cookieJar,o=t.idMigrationEnabled,s=t.orgId,c="AMCV_".concat(s),l=function(){var e=null,t="s_ecid",n=r.get(t)||r.get(c);if(n){var a=/(^|\|)MCMID\|(\d+)($|\|)/,i=n.match(a);i&&(e=i[2])}return e};return{getEcid:function(){if(o){var e=l();return e?Promise.resolve(e):n()}return Promise.resolve()},setEcid:function(e){if(o&&l()!==e){var t=i?{sameSite:"none",secure:!0}:{};r.set(c,"MCMID|".concat(e),_({domain:a,expires:390},t))}}}},ha=function(e){var t=e.logger;return new Promise((function(e,n){if(L(window.adobe)&&L(window.adobe.optIn)){var a=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),a.fetchPermissions((function(){a.isApproved([a.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):n(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},ba=function(e){var t=e.Visitor;return oe(t)&&oe(t.getInstance)&&t},ya=function(e){var t=e.logger,n=e.orgId,a=e.awaitVisitorOptIn,i=ba(window);return function(){return i?a({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(e){i.getInstance(n,{}).getMarketingCloudVisitorID((function(n){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),e(n)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},wa=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},Da=function(e){var t,n=e.doesIdentityCookieExist,a=e.setDomainForInitialIdentityPayload,i=e.addLegacyEcidToPayload,r=e.awaitIdentityCookie,o=e.logger,s=function(e){return a(e),i(e.getPayload())};return function(e){var a=e.request,i=e.onResponse,c=e.onRequestFailure;if(n())return a.setIsIdentityEstablished(),Promise.resolve();if(t){o.info("Delaying request while retrieving ECID from server.");var l=t;return t=l.catch((function(){return r({onResponse:i,onRequestFailure:c})})),l.then((function(){o.info("Resuming previously delayed request."),a.setIsIdentityEstablished()})).catch((function(){return s(a)}))}return t=r({onResponse:i,onRequestFailure:c}),s(a)}},Ca="ECID",Pa=function(e){e.mergeQuery({identity:{fetch:[Ca]}})},ja=function(e){return function(t){for(var n=Object.keys(e),a=0;a<n.length;a+=1){var i=n[a];if(e[i].test(t))return i}return R}},Ea=ot((function(e){var t;return ja((h(t={},x,/Edge\/([0-9\._]+)/),h(t,S,/Edg\/([0-9\.]+)/),h(t,I,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),h(t,V,/Firefox\/([0-9\.]+)(?:\s|$)/),h(t,k,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),h(t,O,/Version\/([0-9\._]+).*Safari/),t))(e.navigator.userAgent)})),Ia=function(e){var t=e.thirdPartyCookiesEnabled,n=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&n(Ea(window))&&e.setUseIdThirdPartyDomain()}},xa=function(e){var t=e.getLegacyEcid,n=e.addEcidToPayload;return function(e){return e.hasIdentity(Ca)?Promise.resolve():t().then((function(t){t&&n(e,t)}))}},Sa="adobe_mc",Va=300,ka=function(e){var t=e.locationSearch,n=e.dateProvider,a=e.orgId,i=e.logger;return function(e){if(!e.hasIdentity(Ca)){var r=j.default.parse(t)[Sa];if(void 0!==r){var o=r.split("|").reduce((function(e,t){var n=u(t.split("="),2),a=n[0],i=n[1];return e[a]=i,e}),{}),s=parseInt(o.TS,10),c=o.MCMID,l=decodeURIComponent(o.MCORGID);n().getTime()/1e3<=s+Va&&l===a&&c?(i.info("Found valid ECID identity ".concat(c," from the adobe_mc query string parameter.")),e.addIdentity(Ca,{id:c})):i.info("Detected invalid or expired adobe_mc query string parameter.")}}}},Oa=function(e,t){e.addIdentity(Ca,{id:t})},Ra=function(e){var t=e.doesIdentityCookieExist,n=e.orgId;return function(e){var a=e.onResponse,i=e.onRequestFailure;return new Promise((function(e,r){a((function(){if(!t()){var a=new Error("An identity was not set properly. Please verify that the org ID ".concat(n," configured in Alloy matches the org ID specified in the edge configuration."));throw r(a),a}e()})),i((function(){t()?e():r(new Error("No identity was set on response."))}))}))}},Ta=function(e){var t=e.getPayloadsByType("identity:result"),n=J(t,(function(e){return e.namespace&&e.namespace.code===Ca}));return n?n.id:void 0},Aa=function(e){var t=e.sendEdgeNetworkRequest,n=e.createIdentityRequestPayload,a=e.createIdentityRequest;return function(e){var i=n(e),r=a(i);return t({request:r})}},Na=function(e){return function(t,n){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)}},Ba=function(e){var t=e.payload,n=e.getAction,a=e.getUseSendBeacon,i=yt(),r=!1,o=!1;return{getId:function(){return i},getPayload:function(){return t},getAction:function(){return n({isIdentityEstablished:o})},getUseSendBeacon:function(){return a({isIdentityEstablished:o})},getUseIdThirdPartyDomain:function(){return r},setUseIdThirdPartyDomain:function(){r=!0},setIsIdentityEstablished:function(){o=!0}}},La=function(e){var t=function(t){var n=t.isIdentityEstablished;return e.getDocumentMayUnload()&&n};return Ba({payload:e,getAction:function(e){var n=e.isIdentityEstablished;return t({isIdentityEstablished:n})?"collect":"interact"},getUseSendBeacon:t})},qa=function(e){var t=e.content,n=e.addIdentity,a=e.hasIdentity;return{mergeState:F(t,"meta.state"),mergeQuery:F(t,"query"),addIdentity:n,hasIdentity:a,toJSON:function(){return t}}},Ma=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},Fa=function(){var e={},t=qa({content:e,addIdentity:Na(e),hasIdentity:Ma(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},Ua=function(e){return Ba({payload:e,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},za=function(e){var t={query:{identity:{fetch:e}}};return qa({content:t,addIdentity:Na(t),hasIdentity:Ma(t)})},Ha=/^([^?#]*)(\??[^#]*)(#?.*)$/,Ga=function(e){return""===e?"?":"?"===e?"":"&"},Wa=function(e){var t=e.dateProvider,n=e.orgId;return function(e,a){var i=Math.round(t().getTime()/1e3),r=encodeURIComponent("TS=".concat(i,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(n))),o=u(a.match(Ha),4),s=o[1],c=o[2],l=o[3],d=Ga(c);return"".concat(s).concat(c).concat(d,"adobe_mc=").concat(r).concat(l)}},Qa=function(e){var t=e.config,n=e.logger,a=e.consent,i=e.fireReferrerHideableImage,r=e.sendEdgeNetworkRequest,o=e.apexDomain,s=t.orgId,c=t.thirdPartyCookiesEnabled,l=ya({logger:n,orgId:s,awaitVisitorOptIn:ha}),u=z({logger:n,cookieJar:P.default}),d=_a({config:t,getEcidFromVisitor:l,apexDomain:o,cookieJar:u,isPageSsl:"https:"===window.location.protocol}),f=$e({orgId:s}),g=Aa({sendEdgeNetworkRequest:r,createIdentityRequestPayload:za,createIdentityRequest:Ua}),p=Ia({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:N}),m=xa({getLegacyEcid:d.getEcid,addEcidToPayload:Oa}),v=ka({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:s,logger:n}),_=Ra({doesIdentityCookieExist:f,orgId:s}),h=Da({doesIdentityCookieExist:f,setDomainForInitialIdentityPayload:p,addLegacyEcidToPayload:m,awaitIdentityCookie:_,logger:n}),b=fa({fireReferrerHideableImage:i,logger:n}),y=wa({processIdSyncs:b}),w=Wa({dateProvider:function(){return new Date},orgId:s});return va({addEcidQueryToPayload:Pa,addQueryStringIdentityToPayload:v,ensureSingleIdentity:h,setLegacyEcid:d.setEcid,handleResponseForIdSyncs:y,getEcidFromResponse:Ta,getIdentity:g,consent:a,appendIdentityToUrl:w,logger:n})};Qa.namespace="Identity",Qa.configValidators=ga;var Ja=function(e,t){return"URL destination ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},$a=function(e){var t=e.fireReferrerHideableImage,n=e.logger,a=e.cookieJar,i=e.isPageSsl?{sameSite:"none",secure:!0}:{},r=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,n=t.name,r=t.value,o=t.domain,s=t.ttlDays;a.set(n,r||"",_({domain:o||"",expires:s||10},i))}))},o=function(e){var a=e.filter((function(e){return"url"===e.type}));return Promise.all(a.map((function(e){return t(e.spec).then((function(){n.info(Ja(e,!0))})).catch((function(){n.error(Ja(e,!1))}))}))).then(st)};return function(e){return r(e),o(e)}},Xa=function(e){var t=e.processDestinations,n=function(e){var n=e.response.getPayloadsByType("activation:push");return t(n)},a=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return n({response:t}).then((function(){return a({response:t})}))}},Ya=function(e){var t=e.logger,n=e.fireReferrerHideableImage,a=z({logger:t,cookieJar:P.default}),i=$a({fireReferrerHideableImage:n,logger:t,cookieJar:a,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Xa({processDestinations:i})},commands:{}}};Ya.namespace="Audiences",Ya.configValidators={};var Za,Ka="__view__",ei="https://ns.adobe.com/personalization/default-content-item",ti="https://ns.adobe.com/personalization/dom-action",ni="https://ns.adobe.com/personalization/html-content-item",ai="https://ns.adobe.com/personalization/json-content-item",ii="https://ns.adobe.com/personalization/redirect-item",ri="https://ns.adobe.com/personalization/measurement",oi=function(e){var t=e.renderDecisions,n=e.decisionScopes,a=e.event,i=e.viewCache,r=a.getViewName();return{isRenderDecisions:function(){return t},getViewName:function(){return r},hasScopes:function(){return n.length>0},hasViewName:function(){return rt(r)},createQueryDetails:function(){var e=o(n);this.isCacheInitialized()||T(e,Ka)||e.push(Ka);var t=[ei,ni,ai,ii];return T(e,Ka)&&t.push(ti),{schemas:t,decisionScopes:e}},isCacheInitialized:function(){return i.isInitialized()},shouldFetchData:function(){return this.hasScopes()||!this.isCacheInitialized()},shouldUseCachedData:function(){return this.hasViewName()&&this.isCacheInitialized()}}},si="Rendering is disabled for authoring mode.",ci="An error occurred while executing the redirect offer.",li={propositions:[]},ui=function(e){var t=e.logger,n=e.options,a=_n({propositions:fn(_n(dn())).nonEmpty(),metadata:_n(dn())}).required();try{return a(n)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),li}},di=function(e){var t=e.logger,n=e.fetchDataHandler,a=e.viewChangeHandler,i=e.onClickHandler,r=e.isAuthoringModeEnabled,o=e.mergeQuery,s=e.viewCache,c=e.showContainers;return{lifecycle:{onBeforeEvent:function(e){var i=e.event,l=e.renderDecisions,u=e.decisionScopes,d=void 0===u?[]:u,f=e.onResponse,g=void 0===f?st:f,p=e.onRequestFailure,m=void 0===p?st:p;if(g((function(){return{propositions:[]}})),m((function(){return c()})),r())return t.warn(si),void o(i,{enabled:!1});var v=oi({renderDecisions:l,decisionScopes:d,event:i,viewCache:s});if(v.shouldFetchData()){var _=W();return s.storeViews(_.promise),m((function(){return _.reject()})),void n({decisionsDeferred:_,personalizationDetails:v,event:i,onResponse:g})}return v.shouldUseCachedData()?a({personalizationDetails:v,event:i,onResponse:g,onRequestFailure:m}):void 0},onClick:function(e){var t=e.event,n=e.clickedElement;i({event:t,clickedElement:n})}},commands:{applyPropositions:{optionsValidator:function(e){return ui({logger:t,options:e})},run:e.applyPropositions}}}},fi=function(e){return Y(te,{},{innerHTML:e})},gi=y((function(e){var t,n;t=mt,n=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),a=n.length,i=-1,r="",o=n.charCodeAt(0);++i<a;)0!=(t=n.charCodeAt(i))?r+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==o?"\\"+t.toString(16)+" ":0==i&&1==a&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(i):n.charAt(i):r+="\ufffd";return r};return e.CSS||(e.CSS={}),e.CSS.escape=t,t},e.exports=n(t)})),pi=":eq(",mi=/:eq\((\d+)\)/g,vi=function(e){return-1===e.indexOf(pi)},_i=function(e){return e.split(mi).filter(rt)},hi=/(#|\.)(-?\w+)/g,bi=function(e,t,n){return"".concat(t).concat(gi(n))},yi=function(e){return e.replace(hi,bi)},wi=function(e){for(var t=[],n=yi(e.trim()),a=_i(n),i=a.length,r=0;r<i;){var o=a[r],s=a[r+1];s?t.push({sel:o,eq:Number(s)}):t.push({sel:o}),r+=2}return t},Di=function(e){var t=document;if(vi(e))return _e(e,t);for(var n=wi(e),a=n.length,i=[],r=t,o=0;o<a;){var s=n[o],c=s.sel,l=s.eq,d=_e(c,r),f=d.length;if(0===f)break;if(null!=l&&l>f-1)break;o<a-1&&(r=null==l?u(d,1)[0]:d[l]),o===a-1&&(i=null==l?d:[d[l]]),o+=1}return i},Ci=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},Pi=function(e,t,n){e.setAttribute(t,n)},ji=function(e,t){return e.getAttribute(t)},Ei=function(e,t){e.removeAttribute(t)},Ii=function(e,t,n,a){var i;i=a?"".concat(t,":").concat(n," !").concat(a,";"):"".concat(t,":").concat(n,";"),e.style.cssText+=";".concat(i)},xi=function(e){return e.parentNode},Si=function(e){return e.nextElementSibling},Vi=function(e,t){if(e){var n=xi(e);n&&n.insertBefore(t,Si(e))}},ki=function(e,t){if(e){var n=xi(e);n&&n.insertBefore(t,e)}},Oi=function(e){var t=e.children;return t?ce(t):[]},Ri=function(e){var t=e.childNodes;return t?ce(t):[]},Ti=function(e){return e.firstElementChild},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Za){var t=e.querySelector("[nonce]");Za=t&&(t.nonce||t.getAttribute("nonce"))}return Za},Ni="alloy-prehiding",Bi="{ visibility: hidden }",Li={},qi=function(e){if(!Li[e]){var t=Ai(),n=_({},t&&{nonce:t}),a={textContent:"".concat(e," ").concat(Bi)},i=Y(ne,n,a);$(document.head,i),Li[e]=i}},Mi=function(e){var t=Li[e];t&&(Te(t),delete Li[e])},Fi=function(e){if(e&&!Ci(Ni)){var t=Ai(),n=_({id:Ni},t&&{nonce:t}),a=Y(ne,n,{textContent:e});$(document.head,a)}},Ui=function(){var e=Ci(Ni);e&&Te(e)},zi=function(e,t){e.textContent=t},Hi="src",Gi=function(e){return e.tagName===ee},Wi=function(e){return Y(ee,{src:e})},Qi=function(e){_e(ee,e).forEach((function(e){var t=ji(e,Hi);t&&Wi(t)}))},Ji=function(e,t){return e.tagName===t},$i=function(e){return Ji(e,ne)&&!ji(e,Hi)},Xi=function(e){var t=_e(ne,e),n=t.length,a=Ai();if(a)for(var i=0;i<n;i+=1){var r=t[i];$i(r)&&(r.nonce=a)}},Yi=function(e,t){return!!e&&e.tagName===t},Zi=function(e){return Yi(e,ae)&&!ji(e,Hi)},Ki=function(e){return Yi(e,ae)&&ji(e,Hi)},er=function(e){for(var t=_e(ae,e),n=[],a=t.length,i=Ai(),r=_({},i&&{nonce:i}),o=0;o<a;o+=1){var s=t[o];if(Zi(s)){var c=s.textContent;c&&n.push(Y(ae,r,{textContent:c}))}}return n},tr=function(e){for(var t=_e(ae,e),n=[],a=t.length,i=0;i<a;i+=1){var r=t[i];if(Ki(r)){var o=ji(r,Hi);o&&n.push(o)}}return n},nr=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},ar=function(e){return Promise.all(e.map(E.default))},ir=function(e,t){var n=fi(t);Xi(n);var a=Ri(n),i=er(n),r=tr(n);return Qi(n),a.forEach((function(t){$(e,t)})),nr(e,i),ar(r)},rr=function(e){Ri(e).forEach(Te)},or=function(e,t){rr(e),ir(e,t)},sr=function(e,t){var n=fi(t);Xi(n);var a=Ri(n),i=er(n),r=tr(n),o=a.length-1;for(Qi(n);o>=0;){var s=a[o],c=Ti(e);c?ki(c,s):$(e,s),o-=1}return nr(e,i),ar(r)},cr=function(e,t){var n=fi(t);Xi(n);var a=Ri(n),i=er(n),r=tr(n);return Qi(n),a.forEach((function(t){ki(e,t)})),nr(e,i),ar(r)},lr=function(e,t){cr(e,t),Te(e)},ur=function(e,t){var n=fi(t);Xi(n);var a=Ri(n),i=er(n),r=tr(n);return Qi(n),a.forEach((function(t){Vi(e,t)})),nr(e,i),ar(r)},dr=function(e,t){var n=t.priority,a=i(t,["priority"]);Object.keys(a).forEach((function(t){Ii(e,t,a[t],n)}))},fr=function(e,t){Object.keys(t).forEach((function(n){Pi(e,n,t[n])}))},gr=function(e,t){Gi(e)&&(Wi(t),Ei(e,Hi),Pi(e,Hi,t))},pr=function(e,t){var n=t.from,a=t.to,i=Oi(e),r=i[n],o=i[a];r&&o&&(n<a?Vi(o,r):ki(o,r))},mr=function(e,t){return t({selector:e.selector,meta:e.meta}),Promise.resolve()},vr=function(e,t,n){var a=e.map((function(e){return n(e,t)}));return Promise.all(a)},_r=function(e){return function(t){var n=t.selector,a=t.prehidingSelector,i=t.content,r=t.meta;return qi(a),
Oe(n,Di).then((function(t){return vr(t,i,e)})).then((function(){return Mi(a),{meta:r}}),(function(e){return Mi(a),{meta:r,error:e}}))}},hr=function(e){return{setHtml:_r(or),customCode:_r(sr),setText:_r(zi),setAttribute:_r(fr),setImageSource:_r(gr),setStyle:_r(dr),move:_r(dr),resize:_r(dr),rearrange:_r(pr),remove:_r(Te),insertAfter:_r(ur),insertBefore:_r(cr),replaceHtml:_r(lr),prependHtml:_r(sr),appendHtml:_r(ir),click:function(t){return mr(t,e)},defaultContent:function(e){return Promise.resolve({meta:e.meta})}}},br=function(e){return!it(e)||!e.trim()},yr="appendHtml",wr="SCRIPT,LINK,STYLE",Dr=function(e){var t=fi(e);return _e(wr,t).map((function(e){return e.outerHTML})).join("")},Cr=function(e){var t=(0,C.default)({},e),n=t.content,a=t.selector;if(br(n))return t;var i=Di(a);return Yi(i[0],ie)?(t.type=yr,t.content=Dr(n),t):t},Pr=function(e,t,n){if(e.enabled){var a=JSON.stringify(t),i=n.message,r=n.stack,o="Failed to execute action ".concat(a,". ").concat(i," ").concat(r?"\n ".concat(r):"");e.error(o)}},jr=function(e,t){if(e.enabled){var n=JSON.stringify(t);e.info("Action ".concat(n," executed."))}},Er=function(e,t,n,a){var i=t[n];if(!i){var r=new Error('DOM action "'.concat(n,'" not found'));throw Pr(e,a[0],r),r}return i.apply(void 0,o(a))},Ir=function(e,t,n){var a=e.map((function(e){var a=Cr(e),i=a.type;return Er(n,t,i,[a]).then((function(e){return jr(n,a),e})).catch((function(e){throw Pr(n,a,e),e}))}));return Promise.all(a)},xr="decisioning.propositionDisplay",Sr="decisioning.propositionInteract",Vr=function(e){var t=e.eventManager,n=e.mergeDecisionsMeta;return function(e){var a=e.decisionsMeta,i=void 0===a?[]:a,r=e.documentMayUnload,o=void 0!==r&&r,s=e.viewName,c=t.createEvent(),l={eventType:xr};return s&&(l.web={webPageDetails:{viewName:s}}),se(i)&&n(c,i),c.mergeXdm(l),o&&c.documentMayUnload(),t.sendEvent(c)}},kr="defaultContent",Or=function(e){return e},Rr=function(e){var t={id:e.id,scope:e.scope,scopeDetails:e.scopeDetails};return e.items.map((function(e){return(0,C.default)({type:kr},e.data,{meta:t})}))},Tr=function(e,t){var n=Le(t,Or),a=[],i=new Set;return n.forEach((function(t){if(t)if(t.error)e.warn(t);else{var n=t.meta;i.has(n.id)||(i.add(n.id),a.push(n))}})),a},Ar=function(e){var t=e.modules,n=e.logger,a=e.executeActions;return function(e){var i=e.map((function(e){var i=Rr(e);return a(i,t,n)}));return Promise.all(i).then((function(e){return Tr(n,e)})).catch((function(e){n.error(e)}))}},Nr=function(e){var t=e.config,n=e.responseHandler,a=e.hideContainers,i=e.mergeQuery;return function(e){var r=e.decisionsDeferred,o=e.personalizationDetails,s=e.event,c=e.onResponse,l=t.prehidingStyle;o.isRenderDecisions()&&a(l),i(s,o.createQueryDetails()),c((function(e){var t=e.response;return n({decisionsDeferred:r,personalizationDetails:o,response:t})}))}},Br=function(e,t){if(vi(e))return Re(e,t);for(var n=Di(e),a=!1,i=0;i<n.length;i+=1)if(n[i]===t){a=!0;break}return a},Lr=function(e,t,n){for(var a=document.documentElement,i=e;i&&i!==a;){if(Br(t,i))return n(t);i=i.parentNode}return null},qr=function(e,t,n){for(var a=[],i=0;i<t.length;i+=1){var r=Lr(e,t[i],n);r&&a.push.apply(a,o(r))}return a},Mr=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},Fr=function(e,t){e.mergeXdm({_experience:{decisioning:{propositions:t}}})},Ur=function(e,t){e.mergeQuery({personalization:_({},t)})},zr=function(e){var t=e.mergeDecisionsMeta,n=e.collectClicks,a=e.getClickSelectors,i=e.getClickMetasBySelector;return function(e){var r=e.event,o=e.clickedElement,s=a();if(se(s)){var c=n(o,s,i);if(se(c)){var l={eventType:Sr},u=c[0].scope;u!==Ka&&(l.web={webPageDetails:{viewName:u}}),r.mergeXdm(l),t(r,c)}}}},Hr=function(){var e,t=W();return{storeViews:function(n){n.then((function(n){void 0===e&&(e={}),(0,C.default)(e,n),t.resolve()})).catch((function(){void 0===e&&(e={}),t.resolve()}))},getView:function(n){return t.promise.then((function(){return e[n]||[]}))},isInitialized:function(){return!(void 0===e)}}},Gr=function(e){var t=e.decisions,n=e.renderAttempted;return t.map((function(e){return(0,C.default)({renderAttempted:n},e)}))},Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n={propositions:Gr({decisions:e,renderAttempted:t})};return t||(n.decisions=e),n},Qr=function(e){var t=e.mergeDecisionsMeta,n=e.collect,a=e.executeDecisions,i=e.viewCache;return function(e){var r=e.personalizationDetails,o=e.event,s=e.onResponse,c=r.getViewName();return i.getView(c).then((function(e){return r.isRenderDecisions()?a(e).then((function(a){if(se(a))return t(o,a),void s((function(){return Wr(e,!0)}));s((function(){return n({decisionsMeta:[],viewName:c}),Wr(e,!0)}))})):(s((function(){return Wr(e,!1)})),{})}))}},Jr="view",$r=function(e,t){var n=[],a=[];return e.forEach((function(e){T(t,e.schema)?n.push(e):a.push(e)})),[n,a]},Xr=function(e,t){return{id:e.id,scope:e.scope,items:t,scopeDetails:e.scopeDetails}},Yr=function(e){var t=e.filter((function(e){var t=e.items;return(void 0===t?[]:t).some((function(e){return e.schema===ri}))})),n=e.filter((function(e){return!T(t,e)}));return{matchedDecisions:t,unmatchedDecisions:n}},Zr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=[],r=[];return e.forEach((function(e){var t=e.items,a=u($r(void 0===t?[]:t,n),2),o=a[0],s=a[1];se(o)&&i.push(Xr(e,o)),se(s)&&r.push(Xr(e,s))})),{matchedDecisions:i,unmatchedDecisions:r}},Kr=function(e,t){e[t.scope]||(e[t.scope]=[]),e[t.scope].push(t)},eo=function(e){return e.characteristics&&e.characteristics.scopeType&&e.characteristics.scopeType===Jr},to=function(e){var t=[],n=[],a={};return se(e)&&e.forEach((function(e){e.scope===Ka?t.push(e):eo(e.scopeDetails)?Kr(a,e):n.push(e)})),{pageWideScopeDecisions:t,nonPageWideScopeDecisions:n,viewScopeDecisions:a}},no=function(e){var t=Zr(e,ii),n=Yr(t.unmatchedDecisions),a=Zr(n.unmatchedDecisions,ti,ei),i=to(a.matchedDecisions),r=i.pageWideScopeDecisions,s=i.nonPageWideScopeDecisions,c=i.viewScopeDecisions;return{redirectDecisions:t.matchedDecisions,pageWideScopeDecisions:r,viewDecisions:c,nonAutoRenderableDecisions:[].concat(o(n.matchedDecisions),o(a.unmatchedDecisions),o(s))}},ao="personalization:decisions",io=function(e){var t=e.autoRenderingHandler,n=e.nonRenderingHandler,a=e.groupDecisions,i=e.handleRedirectDecisions,r=e.showContainers;return function(e){var o=e.decisionsDeferred,s=e.personalizationDetails,c=e.response.getPayloadsByType(ao),l=s.getViewName();if(0===c.length)return r(),o.resolve({}),{decisions:[],propositions:[]};var u=a(c),d=u.redirectDecisions,f=u.pageWideScopeDecisions,g=u.viewDecisions,p=u.nonAutoRenderableDecisions;return s.isRenderDecisions()&&se(d)?(o.resolve({}),i(d)):(o.resolve(g),s.isRenderDecisions()?t({viewName:l,pageWideScopeDecisions:f,nonAutoRenderableDecisions:p}):n({viewName:l,redirectDecisions:d,pageWideScopeDecisions:f,nonAutoRenderableDecisions:p}))}},ro=function(e){return Object.keys(e).map((function(t){return{id:t,scope:e[t].scope,scopeDetails:e[t].scopeDetails}}))},oo=function(){var e={};return{storeClickMetrics:function(t){e[t.selector]||(e[t.selector]={}),e[t.selector][t.meta.id]={scope:t.meta.scope,scopeDetails:t.meta.scopeDetails}},getClickSelectors:function(){return Object.keys(e)},getClickMetasBySelector:function(t){return e[t]?ro(e[t]):{}}}},so=function(e){var t=e[0],n=t.items,a=t.id,i=t.scope,r=t.scopeDetails;return{content:n[0].data.content,decisions:[{id:a,scope:i,scopeDetails:r}]}},co=function(e){var t=e.collect,n=e.window,a=e.logger,i=e.showContainers;return function(e){var r=so(e),o=r.content,s=r.decisions;return t({decisionsMeta:s,documentMayUnload:!0}).then((function(){n.location.replace(o)})).catch((function(){i(),a.warn(ci)}))}},lo=function(e){var t=e.viewCache,n=e.viewName,a=e.pageWideScopeDecisions;return n?t.getView(n).then((function(e){return{pageWideScopeDecisions:a,viewPropositions:e}})):{pageWideScopeDecisions:a,viewPropositions:[]}},uo=function(e){var t=e.viewCache,n=e.executeDecisions,a=e.showContainers,i=e.collect;return function(e){var r=e.viewName,s=e.pageWideScopeDecisions,c=e.nonAutoRenderableDecisions;return Promise.resolve(s).then((function(e){return lo({viewCache:t,viewName:r,executeDecisions:n,pageWideScopeDecisions:e})})).then((function(e){return n(e.pageWideScopeDecisions).then((function(e){se(e)&&i({decisionsMeta:e})})),r&&n(e.viewPropositions).then((function(e){i({decisionsMeta:e,viewName:r})})),a(),[].concat(o(e.pageWideScopeDecisions),o(e.viewPropositions))})).then((function(e){return{decisions:o(c),propositions:[].concat(o(Gr({decisions:e,renderAttempted:!0})),o(Gr({decisions:c,renderAttempted:!1})))}}))}},fo=function(e){var t=e.viewCache,n=e.viewName,a=e.propositions;return n?t.getView(n).then((function(e){return[].concat(o(e),o(a))})):a},go=function(e){var t=e.propositions;return{decisions:t,propositions:Gr({decisions:t,renderAttempted:!1})}},po=function(e){var t=e.viewCache;return function(e){var n=e.viewName,a=e.redirectDecisions,i=e.pageWideScopeDecisions,r=e.nonAutoRenderableDecisions,s=[].concat(o(a),o(i),o(r));return Promise.resolve(s).then((function(e){return fo({viewCache:t,viewName:n,propositions:e})})).then((function(e){return go({propositions:e})}))}},mo=[ti,ni],vo=function(e){var t=e.executeDecisions,n=function(e){return mo.indexOf(e.schema)>-1},a=function(e){var t=e.items,a=e.metadataForScope;return t.filter(n).map((function(e){return e.schema!==ni?_({},e):L(a)?_(_({},e),{},{data:_(_({},e.data),{},{selector:a.selector,type:a.actionType})}):void 0})).filter((function(e){return e}))},i=function(e){return!(e.scope===Ka&&e.renderAttempted)},r=function(e){var t=e.propositions,n=e.metadata;return t.filter(i).map((function(e){return se(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:a({items:e.items,metadataForScope:n[e.scope]})}:e})).filter((function(e){return se(e.items)}))},o=function(e){var n=e.propositions,a=e.metadata,i=r({propositions:n,metadata:a});return t(i).then((function(){return Wr(i,!0)}))};return function(e){var t=e.propositions,n=e.metadata,a=void 0===n?{}:n;return se(t)?o({propositions:t,metadata:a}):Promise.resolve(li)}},_o=function(e){var t=e.config,n=e.logger,a=e.eventManager,i=Vr({eventManager:a,mergeDecisionsMeta:Fr}),r=oo(),o=r.getClickMetasBySelector,s=r.getClickSelectors,c=r.storeClickMetrics,l=Hr(),u=hr(c),d=Ar({modules:u,logger:n,executeActions:Ir}),f=co({collect:i,window:window,logger:n,showContainers:Ui}),g=uo({viewCache:l,executeDecisions:d,showContainers:Ui,collect:i}),p=vo({executeDecisions:d}),m=po({viewCache:l}),v=io({autoRenderingHandler:g,nonRenderingHandler:m,groupDecisions:no,handleRedirectDecisions:f,showContainers:Ui}),_=Nr({config:t,responseHandler:v,hideContainers:Fi,mergeQuery:Ur}),h=zr({mergeDecisionsMeta:Fr,collectClicks:qr,getClickSelectors:s,getClickMetasBySelector:o}),b=Qr({mergeDecisionsMeta:Fr,collect:i,executeDecisions:d,viewCache:l});return di({logger:n,fetchDataHandler:_,viewChangeHandler:b,onClickHandler:h,isAuthoringModeEnabled:Mr,mergeQuery:Ur,viewCache:l,showContainers:Ui,applyPropositions:p})};_o.namespace="Personalization",_o.configValidators={prehidingStyle:hn().nonEmpty()};var ho=function(e){return function(t){var n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};M(t,{web:n})}},bo=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},yo=function(e){return e.matchMedia("(orientation: portrait)").matches?"portrait":e.matchMedia("(orientation: landscape)").matches?"landscape":null},wo=function(e){return function(t){var n=e.screen,a=n.width,i={screenHeight:n.height,screenWidth:a},r=bo(e)||yo(e);r&&(i.screenOrientation=r),M(t,{device:i})}},Do=function(e){return function(t){var n=e.document.documentElement,a=(n=void 0===n?{}:n).clientWidth,i=n.clientHeight,r={type:"browser"};tt(a)&&a>=0&&tt(i)&&i>=0&&(r.browserDetails={viewportWidth:Math.round(a),viewportHeight:Math.round(i)}),M(t,{environment:r})}},Co=function(e){return function(t){var n=e(),a={localTime:pt(n)},i=gt(n.getTimezoneOffset());void 0!==i&&(a.localTimezoneOffset=i),M(t,{placeContext:a})}},Po=function(e){return function(t){var n=e().toISOString();M(t,{timestamp:n})}},jo="https://ns.adobe.com/experience/alloy",Eo="2.12.0",Io=function(e){var t={name:jo,version:Eo,environment:"browser"};M(e,{implementationDetails:t})},xo=function(e,t,n,a){var i=e.context,r=Le(i,(function(e,a){return n[e]?[n[e]]:(t.warn("Invalid context[".concat(a,"]: '").concat(e,"' is not available.")),[])})).concat(a);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var t=e.event,n={};r.forEach((function(e){return e(n)})),t.mergeXdm(n)}}}},So=ho(window),Vo=wo(window),ko=Do(window),Oo=Co((function(){return new Date})),Ro=Po((function(){return new Date})),To={web:So,device:Vo,environment:ko,placeContext:Oo},Ao=[Ro,Io],No=function(e){var t=e.config,n=e.logger;return xo(t,n,To,Ao)};No.namespace="Context",No.configValidators={context:fn(hn()).default(Object.keys(To))};var Bo=function(e){var t=e.storedConsent,n=e.taskQueue,a=e.defaultConsent,i=e.consent,r=e.sendSetConsentRequest,o=e.validateSetConsentOptions,s=e.consentHashStore,c=e.doesIdentityCookieExist,l=h({},Tn,a),u=t.read(),d=c(),f=void 0!==u[Tn];d&&f||s.clear(),d||(t.clear(),u={}),i.initializeConsent(l,u);var g=function(){if(0===n.length){var e=t.read();void 0!==e[Tn]&&i.setConsent(e)}};return{commands:{setConsent:{optionsValidator:o,run:function(e){var t=e.consent,a=e.identityMap;i.suspend();var o=s.lookup(t);return n.addTask((function(){return o.isNew()?r({consentOptions:t,identityMap:a}):Promise.resolve()})).then((function(){return o.save()})).finally(g)}}},lifecycle:{onResponse:g,onRequestFailure:g}}},Lo=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):"object"===b(t)&&null!==t?Object.keys(t).sort().reduce((function(n,a){return n[a]=e(t[a]),n}),{}):t},qo=function(e){return G(JSON.stringify(Lo(e)))},Mo=function(e){var t=e.standard,n=e.version;return"".concat(t,".").concat(n)},Fo=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var n={},a=function(e){var t=Mo(e),a=(e.standard,e.version,i(e,["standard","version"]));return n[t]||(n[t]=qo(a).toString()),n[t]};return{isNew:function(){return e.some((function(e){var n=Mo(e),i=t.getItem(n);return null===i||i!==a(e)}))},save:function(){e.forEach((function(e){var n=Mo(e);t.setItem(n,a(e))}))}}}}},Uo=function(){var e={},t=qa({content:e,addIdentity:function(t,n){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},zo=function(e){return Ba({payload:e,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},Ho=function(e){var t=e.parseConsentCookie,n=e.orgId,a=e.cookieJar,i=Ge(n,Qe);return{read:function(){var e=a.get(i);return e?t(e):{}},clear:function(){a.remove(i)}}},Go=function(e){var t=e.createConsentRequestPayload,n=e.createConsentRequest,a=e.sendEdgeNetworkRequest;return function(e){var i=e.consentOptions,r=e.identityMap,o=t();o.setConsent(i),L(r)&&Object.keys(r).forEach((function(e){r[e].forEach((function(t){o.addIdentity(e,t)}))}));var s=n(o);return a({request:s}).then((function(){}))}},Wo=function(e){return e.split(";").reduce((function(e,t){var n=u(t.split("="),2),a=n[0],i=n[1];return e[a]=i,e}),{})},Qo=_n({consent:fn(dn()).required().nonEmpty(),identityMap:yn}).noUnknownFields().required(),Jo=function(e){var t=e.config,n=e.consent,a=e.sendEdgeNetworkRequest,i=e.createNamespacedStorage,r=t.orgId,o=t.defaultConsent,s=Ho({parseConsentCookie:Wo,orgId:r,cookieJar:P.default}),c=H(),l=Go({createConsentRequestPayload:Uo,createConsentRequest:zo,sendEdgeNetworkRequest:a}),u=i("".concat(He(r),".consentHashes.")),d=Fo({storage:u.persistent}),f=$e({orgId:r});return Bo({storedConsent:s,taskQueue:c,defaultConsent:o,consent:n,sendSetConsentRequest:l,validateSetConsentOptions:Qo,consentHashStore:d,doesIdentityCookieExist:f})};Jo.namespace="Privacy";var $o=function(){return{eventMergeId:yt()}};t.createEventMergeId=$o;var Xo=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},Yo=function(){return Xo({createEventMergeId:$o})};Yo.namespace="EventMerge",Yo.configValidators={};var Zo=function(e){var t=e.config,n=e.componentRegistry,a=[].concat(o(n.getCommandNames()),[Wn,Qn]).sort(),i=_({},t);return Object.keys(t).forEach((function(e){var n=t[e];"function"==typeof n&&(i[e]=n.toString())})),{version:Eo,configs:i,commands:a}},Ko=function(e){var t=e.config,n=e.componentRegistry,a=Zo({config:t,componentRegistry:n});return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:a}}}}}};Ko.namespace="LibraryInfo";var es=function(e){return{inferences:e.response.getPayloadsByType("rtml:inferences")}},ts=function(){return{lifecycle:{onResponse:es},commands:{}}};ts.namespace="MachineLearning",ts.configValidators={};var ns=[Zn,ua,Qa,Ya,_o,No,Jo,Yo,Ko,ts],as="https://adobe.ly/3sHh553",is=function(e,t){var n={};return(0,C.default)(n,e),t.forEach((function(e){var t=e.configValidators;(0,C.default)(n,t)})),n},rs=function(e,t){try{return _n(e).noUnknownFields().required()(t)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(as))}},os=function(e){var t=e.options,n=e.componentCreators,a=e.coreConfigValidators,i=e.createConfig,r=e.logger,o=e.setDebugEnabled,s=is(a,n),c=i(rs(s,t));return o(c.debugEnabled,{fromConfig:!0}),r.logOnInstanceConfigured({config:c}),c},ss=function(e){var t=e.componentCreators,n=e.lifecycle,a=e.componentRegistry,i=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,n=e.namespace,r=i(n);try{t=e(r)}catch(e){throw dt({error:e,message:"[".concat(n,"] An error occurred during component creation.")})}a.register(n,t)})),n.onComponentsRegistered({lifecycle:n}).then((function(){return a}))},cs=function(e){return(0,C.default)({},e)},ls="edge.adobedc.net",us="adobedc.demdex.net",ds="ee",fs=function(){return{debugEnabled:gn().default(!1),defaultConsent:bn(kn,On,Rn).default(kn),edgeConfigId:hn().unique().required(),edgeDomain:hn().domain().default(ls),edgeBasePath:hn().nonEmpty().default(ds),orgId:hn().unique().required(),onBeforeEventSend:pn().default(st)}},gs=function(e){var t=e.errorPrefix,n=e.logger;return function(e,a){var i=lt(e);if(i.code===An)return n.warn("The ".concat(a," could not fully complete. ").concat(i.message)),{};throw ut({error:i,message:"".concat(t," ").concat(i.message)}),i}},ps=function(e){var t=e.fetch;return function(e,n){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrer:"client",body:n}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},ms=function(e){var t=e.XMLHttpRequest;return function(e,n){return new Promise((function(a,i){var r=new t;r.onreadystatechange=function(){4===r.readyState&&(0===r.status?i(new Error("Request aborted.")):a({statusCode:r.status,getHeader:function(e){return r.getResponseHeader(e)},body:r.responseText}))},r.onloadstart=function(){r.responseType="text"},r.open("POST",e,!0),r.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),r.withCredentials=!0,r.onerror=i,r.onabort=i,r.send(n)}))}},vs=function(e){var t=e.sendBeacon,n=e.sendFetchRequest,a=e.logger;return function(e,i){var r=new Blob([i],{type:"text/plain; charset=UTF-8"});return t(e,r)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(a.info("Unable to use `sendBeacon`; falling back to `fetch`."),n(e,i))}},_s=function(e){var t=e.getDebugEnabled,n=e.console,a=e.getMonitors,i=e.context,r="[".concat(i.instanceName,"]");i.componentName&&(r+=" [".concat(i.componentName,"]"));var o=function(e,t){var n=a();if(n.length>0){var r=(0,C.default)({},i,t);n.forEach((function(t){t[e]&&t[e](r)}))}},s=function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];o("onBeforeLog",{level:e,arguments:i}),t()&&n[e].apply(n,[r].concat(i))};return{get enabled(){return a().length>0||t()},logOnInstanceCreated:function(e){o("onInstanceCreated",e),s("info","Instance initialized.")},logOnInstanceConfigured:function(e){o("onInstanceConfigured",e),s("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){o("onBeforeCommand",e),s("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){o("onCommandResolved",e),s("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){o("onCommandRejected",e),s("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){o("onBeforeNetworkRequest",e),s("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){o("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";s("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){o("onNetworkError",e),s("error","Request ".concat(e.requestId,": Network request failed."),e.error)},info:s.bind(null,"info"),warn:s.bind(null,"warn"),error:s.bind(null,"error")}},hs="Event was canceled because the onBeforeEventSend callback returned false.",bs=function(e){var t=e.config,n=e.logger,a=e.lifecycle,i=e.consent,r=e.createEvent,o=e.createDataCollectionRequestPayload,s=e.createDataCollectionRequest,c=e.sendEdgeNetworkRequest,l=t.onBeforeEventSend;return{createEvent:r,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.renderDecisions,u=void 0!==r&&r,d=t.decisionScopes,f=o(),g=s(f),p=U(),m=U();return a.onBeforeEvent({event:e,renderDecisions:u,decisionScopes:d,onResponse:p.add,onRequestFailure:m.add}).then((function(){return f.addEvent(e),i.awaitConsent()})).then((function(){try{e.finalize(l)}catch(i){var t=function(){throw i};return m.add(a.onRequestFailure),m.call({error:i}).then(t,t)}if(!e.shouldSend()){m.add(a.onRequestFailure),n.info(hs);var i=new Error(hs);return m.call({error:i}).then((function(){}))}return c({request:g,runOnResponseCallbacks:p.call,runOnRequestFailureCallbacks:m.call})}))}}},ys="state:store",ws=function(e){var t=e.cookieJar,n=e.orgId,a=e.apexDomain,i=e.dateProvider;return{cookiesToPayload:function(e,i){var r=Q(i,a),o={domain:a,cookiesEnabled:!0};if(!r){var s=t.get(),c=Object.keys(s).filter((function(e){return at(n,e)})).map((function(e){return{key:e,value:s[e]}}));c.length&&(o.entries=c)}e.mergeState(o)},responseToCookies:function(e){e.getPayloadsByType(ys).forEach((function(e){var n={domain:a},r=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(n.expires=new Date(i().getTime()+1e3*e.maxAge)),void 0!==r&&(n.sameSite=r),"none"===r&&(n.secure=!0),t.set(e.key,e.value,n)}))}}},Ds="v1",Cs=function(e){var t=e.config,n=e.lifecycle,a=e.cookieTransfer,i=e.sendNetworkRequest,r=e.createResponse,s=e.processWarningsAndErrors,c=e.getLocationHint,l=t.edgeDomain,u=t.edgeBasePath,d=t.edgeConfigId;return function(e){var t=e.request,f=e.runOnResponseCallbacks,g=void 0===f?st:f,p=e.runOnRequestFailureCallbacks,m=void 0===p?st:p,v=U();v.add(n.onResponse),v.add(g);var _=U();return _.add(n.onRequestFailure),_.add(m),n.onBeforeRequest({request:t,onResponse:v.add,onRequestFailure:_.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?us:l,n=c(),r=n?"".concat(u,"/").concat(n):u,o="https://".concat(e,"/").concat(r,"/").concat(Ds,"/").concat(t.getAction(),"?configId=").concat(d,"&requestId=").concat(t.getId());return a.cookiesToPayload(t.getPayload(),e),i({requestId:t.getId(),url:o,payload:t.getPayload(),useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return s(e),e})).catch((function(e){var t=function(){throw e};return _.call({error:e}).then(t,t)})).then((function(e){var t=e.parsedBody,n=e.getHeader,i=r({content:t,getHeader:n});return a.responseToCookies(i),v.call({response:i}).then((function(e){var t=e.shift()||[],n=e.shift()||[],a=e;return C.default.apply(void 0,[{}].concat(o(t),o(n),o(a)))}))}))}},Ps=204,js="The server responded with a",Es=function(e){var t=e.logger;return function(e){var n=e.statusCode,a=e.body,i=e.parsedBody;if(n<200||n>=300||!i&&n!==Ps||i&&!Array.isArray(i.handle)){var r=i?JSON.stringify(i,null,2):a,o=r?"response body:\n".concat(r):"no response body.";throw new Error("".concat(js," status code ").concat(n," and ").concat(o))}if(i){var s=i.warnings,c=void 0===s?[]:s,l=i.errors,u=void 0===l?[]:l;c.forEach((function(e){t.warn("".concat(js," warning:"),e)})),u.forEach((function(e){t.error("".concat(js," non-fatal error:"),e)}))}}},Is=function(e){var t=e.orgId,n=e.cookieJar,a=Ge(t,Je);return function(){return n.get(a)}},xs=3,Ss=[429,503,502,504],Vs=function(e){var t=e.response;return e.retriesAttempted<xs&&T(Ss,t.statusCode)},ks=1e3,Os=1e3,Rs=.3,Ts=function(e){var t=ks+e*Os,n=t*Rs,a=t-n,i=t+n;return Math.round(a+Math.random()*(i-a))},As=function(e){var t,n=e.getHeader(zn);if(n){var a=parseInt(n,10);t=nt(a)?1e3*a:Math.max(0,new Date(n).getTime()-(new Date).getTime())}return t},Ns=function(e){var t=e.response,n=e.retriesAttempted,a=As(t);return void 0===a&&(a=Ts(n)),a},Bs=Ye(window),Ls=window,qs=(Ls.console,Ls.fetch),Ms=Ls.navigator,Fs=Ls.XMLHttpRequest,Us=fs(),zs=Ue(window,P.default),Hs=oe(qs)?ps({fetch:qs}):ms({XMLHttpRequest:Fs}),Gs=Be(),Ws=function(e){var t=e.instanceName,n=e.logController,a=n.setDebugEnabled,i=n.logger,r=n.createComponentLogger,o=xn(),s=En(o),c=function(e){a(e.enabled,{fromConfig:!1})},l=z({logger:i,cookieJar:P.default}),u=function(e){var n=os({options:e,componentCreators:ns,coreConfigValidators:Us,createConfig:cs,logger:i,setDebugEnabled:a}),c=n.orgId,u=ws({cookieJar:l,orgId:c,apexDomain:zs,dateProvider:function(){return new Date}}),d=oe(Ms.sendBeacon)?vs({sendBeacon:Ms.sendBeacon.bind(Ms),sendFetchRequest:Hs,logger:i}):Hs,f=Sn({logger:i,sendFetchRequest:Hs,sendBeaconRequest:d,isRequestRetryable:Vs,getRequestRetryDelay:Ns}),g=Es({logger:i}),p=Vn({logger:i}),m=Gn({extractEdgeInfo:p}),v=Is({orgId:c,cookieJar:P.default}),_=Cs({config:n,lifecycle:s,cookieTransfer:u,sendNetworkRequest:f,createResponse:m,processWarningsAndErrors:g,getLocationHint:v}),h=Mn({logger:i}),b=Fn({generalConsentState:h,logger:i}),y=bs({config:n,logger:i,lifecycle:s,consent:b,createEvent:Un,createDataCollectionRequestPayload:Fa,createDataCollectionRequest:La,sendEdgeNetworkRequest:_});return ss({componentCreators:ns,lifecycle:s,componentRegistry:o,getImmediatelyAvailableTools:function(e){var a=r(e);return{config:n,componentRegistry:o,consent:b,eventManager:y,fireReferrerHideableImage:Gs,logger:a,lifecycle:s,sendEdgeNetworkRequest:_,handleError:gs({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:a}),createNamespacedStorage:Bs,apexDomain:zs}}})},d=gs({errorPrefix:"[".concat(t,"]"),logger:i});return Jn({logger:i,configureCommand:u,setDebugCommand:c,handleError:d,validateCommandOptions:Xn})},Qs=window.console,Js=Ye(window),$s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_n({name:hn().default("alloy"),monitors:fn(_n({})).default([])}).noUnknownFields()(e),n=t.name,a=t.monitors,i=function(){return(window.__alloyMonitors||[]).concat(a)},r=Dn({console:Qs,locationSearch:window.location.search,createLogger:_s,instanceName:n,createNamespacedStorage:Js,getMonitors:i}),o=Ws({instanceName:n,logController:r});return r.logger.logOnInstanceCreated({instance:o}),o};t.createInstance=$s}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}e.exports=function(e){var t=e.turbine,a=e.window,r=e.createInstance,o=e.createEventMergeId,s=e.orgId,c=e.wrapOnBeforeEventSend,l=t.getExtensionSettings().instances,u={};return l.forEach((function(e){var o=e.name,l=e.edgeConfigId,d=e.stagingEdgeConfigId,f=e.developmentEdgeConfigId,g=e.onBeforeEventSend,p=i(e,["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"]),m=r({name:o});a[o]=m,u[o]=m;var v="development"===t.environment.stage&&f||"staging"===t.environment.stage&&d||l;m("configure",n(n({},p),{},{edgeConfigId:v,debugEnabled:t.debugEnabled,orgId:p.orgId||s,onBeforeEventSend:c(g)})),t.onDebugChanged((function(e){m("setDebug",{enabled:e})}))})),{getInstance:function(e){return u[e]},createEventMergeId:function(){return o()}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(n){if(n.xdm.implementationDetails.name="".concat(n.xdm.implementationDetails.name,"/reactor"),n.xdm.implementationDetails.version="".concat(n.xdm.implementationDetails.version,"+").concat(t),e)return e(n)}}}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty.js");e.exports=function(e){return a(window,e.path)}}},"core/src/lib/dataElements/conditionalValue.js":{name:"conditional-value",displayName:"Conditional Value",script:function(e,t,n){"use strict";var a=n("../conditions/valueComparison");e.exports=function(e){return a(e)?e.conditionalValue:e.fallbackValue}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty"),i=n("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return i(a(window,e.name),t)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,a){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=i[e];if(n){var r={identifier:e,detail:t};n.forEach((function(e){e(r)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),a.logger.log.apply(a.logger,o)}else a.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=i[e.identifier];n||(n=i[e.identifier]=[]),n.push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,a){"use strict";var i,r,o,s,c=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),u=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),f=n("../../../node_modules/postscribe/dist/postscribe"),g=n("./helpers/unescapeHtmlCode"),p=n("../helpers/findPageScript").getTurbine,m=(r=function(e){f(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return i&&"script"===t&&(e.attrs.nonce=i),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=g(e.attrs[t])})),e.src&&(e.src=g(e.src))),e},error:function(e){a.logger.error(e.msg)
}})},o=[],s=function(){if(c.body)for(;o.length;)r(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),v=function(){if(c.currentScript)return c.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var n;i=a.getExtensionSettings().cspNonce;var r={settings:e,event:t},o=r.settings.source;if(o)return r.settings.isExternal?d(o).then((function(e){return e?(n=u(r,e),m(n.code),n.promise):l.resolve()})):(n=u(r,o),v||"loading"!==c.readyState?m(n.code):c.write&&!1===a.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):m(n.code),n.promise)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var a=n("../helpers/stringAndNumberUtils").isString,i=n("../helpers/stringAndNumberUtils").isNumber,r=n("../helpers/stringAndNumberUtils").castToStringIfNumber,o=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&a(e)?e.toLowerCase():e},c=function(e){return function(t,n,i){return t=r(t),n=r(n),a(t)&&a(n)&&e(t,n,i)}},l=function(e){return function(t,n){return t=o(t),n=o(n),i(t)&&i(n)&&e(t,n)}},u=function(e){return function(t,n,a){return e(s(t,a),s(n,a))}},d={equals:u((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(u((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(u((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(u((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),i=n("./helpers/createBubbly")(),r=new(n("./helpers/weakMap")),o=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==o)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var i=t.getAttribute("href"),r=t.getAttribute("target");return i&&(!r||"_self"===r||"_top"===r&&a.top===a||r===a.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",i.evaluateEvent,!0),e.exports=function(e,t){i.addListener(e,(function(n){var i=n.nativeEvent;if(!i.s_fe){var o=s(e.anchorDelay);if(o&&!r.has(i)){var l=c(i);l&&(i.preventDefault(),setTimeout((function(){a.location=l.href}),o)),r.set(i,!0)}t(n)}}))},e.exports.__reset=i.__reset}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerDomReadyTrigger(t)}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),a=e,i=0,r=n.length;i<r;i++){if(null==a)return;a=a[n[i]]}return a}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},a=function(e){return t(e)?String(e):e},i=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:a,castToNumberIfString:i}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var a=n("./decorators/decorateGlobalJavaScriptCode"),i=n("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?a(e,t):i(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),i=n("./getSourceByUrl"),r=a.resolve();e.exports=function(e){var t=new a((function(t){var n=i(e);a.all([n,r]).then((function(e){var n=e[0];t(n)}))}));return r=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,a;n=this,a=function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n(1));e.exports=i.default},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(){}function o(){var e=p.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function a(e){e=n.beforeWrite(e),m.write(e),n.afterWrite(e)}(m=new u.default(e,n)).id=g++,m.name=n.name||m.id,c.streams[m.name]=m;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};l(i,{close:r,open:r,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join("")+"\n")}});var d=m.win.onerror||r;return m.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),d.apply(m.win,[e,t,a])},m.write(t,(function(){l(i,s),m.win.onerror=d,n.done(),m=null,o()})),m}function c(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return p=[],m=null,void(g=0);n=d.defaults(n,f);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=r}},n.beforeEnqueue(a),p.push(a),m||o(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=c;var u=i(n(2)),d=a(n(4)),f={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:r,error:function(e){throw new Error(e.msg)},releaseAsync:!1},g=0,p=[],m=null;l(c,{streams:{},queue:p,WriteStream:u.default})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=f+t,a=e.getAttribute(n);return u.existy(a)?String(a):a}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=f+t;u.existy(n)&&""!==n?e.setAttribute(a,n):e.removeAttribute(a)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=i(n(3)),u=a(n(4)),d=!1,f="data-ps-",g="ps-style",p="ps-script",m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,a=void 0,i=[];(t=this.parser.readToken())&&!(n=u.isScript(t))&&!(a=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);i.length>0&&this._writeStaticTokens(i),n&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],a=[],i=[],r=e.length,o=0;o<r;o++){var s=e[o],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;a.push(c.replace(/(\/?>)/," "+f+"id="+l+" $1")),s.attrs.id!==p&&s.attrs.id!==g&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" "+f+"proxyof="+l+(s.unary?" />":">"))}}else a.push(c),i.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:a.join(""),proxy:i.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!o(e,"proxyof")){n&&(this.actuals[o(e,"id")]=e,s(e,"id"));var a=e.parentNode&&o(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,g),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),a=this._shouldRelease(n),i=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,a?i:function(){t(),i()}));try{this._insertCursor(n,p),n.src&&!a||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function a(){n(),null!=t&&t(),t=null}function i(e){n(),o(e),null!=t&&t(),t=null}function r(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var o=this.options.error;r(e,"load"),r(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){i({msg:"onload handler failed "+t+" @ "+e.src})}a()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void i({msg:"onerror handler failed "+t+" @ "+e.src})}i({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&a()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n(1));e.exports=i.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(n(2)),s=i(n(3)),c=a(n(6)),l=n(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.stream=n;var i=!1,s={};for(var l in o)o.hasOwnProperty(l)&&(a.autoFix&&(s[l+"Fix"]=!0),i=i||s[l+"Fix"]);i?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var f in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,l.escapeQuotes)(e[n],null));return t},d.supports=o,o)o.hasOwnProperty(f)&&(d.browserHasFlaw=d.browserHasFlaw||!o[f]&&f)},function(e,t){"use strict";t.__esModule=!0;var n=!1,a=!1,i=window.document.createElement("div");try{var r="<P><I></P></I>";i.innerHTML=r,t.tagSoup=n=i.innerHTML!==r}catch(e){t.tagSoup=n=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===i.childNodes.length}catch(e){t.selfClose=a=!1}i=null,t.tagSoup=n,t.selfClose=a},function(e,t,n){"use strict";function a(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function i(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function r(e){var t,n,a;if(-1!==e.indexOf(">")){var i=e.match(u.startTag);if(i){var r=(t={},n={},a=i[2],i[2].replace(u.attr,(function(e,i){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[i]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(i)&&i||"":t[i]="",a=a.replace(e,"")})),{v:new l.StartTagToken(i[1],i[0].length,t,n,!!i[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===r?"undefined":c(r)))return r.v}}}function o(e){var t=r(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new l.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=i,t.startTag=r,t.atomicTag=o,t.endTag=s;var l=n(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=n(5),r=(t.Token=function e(t,n){a(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){a(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){a(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,i,r,o){a(this,e),this.type=t,this.length=i,this.text="",this.tagName=n,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var a in e.attrs)if(e.attrs.hasOwnProperty(a)){n+=" "+a;var r=e.attrs[a];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[a]||(n+='="'+(0,i.escapeQuotes)(r)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,i,r,o,s){a(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return r.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,i,r,o){a(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return r.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){a(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function a(e,t){var a=e.stream,i=n(t());return e.stream=a,i}function i(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function r(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=a(e,o);t&&u[t.type]&&u[t.type](t)}var l=r(),u={startTag:function(n){var a=n.tagName;"TR"===a.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(a)&&l.containsTagName(a)?l.lastTagNameEq(a)?i(e,l):(e.prepend("</"+n.tagName+">"),s()):n.unary||l.push(n)},endTag:function(n){l.last()?t.tagSoupFix&&!l.lastTagNameEq(n.tagName)?i(e,l):l.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),n(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function a(e){return"function"==typeof e}function i(e,t,n){var a=void 0,i=e&&e.length||0;for(a=0;a<i;a++)t.call(n,e[a],a)}function r(e,t,n){for(var a in e)e.hasOwnProperty(a)&&t.call(n,a,e[a])}function o(e,t){return e=e||{},r(t,(function(t,a){n(e[t])||(e[t]=a)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(n=[],i(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":f(t)))return t.v}var n}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function d(e){return l(e,"style")}t.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=a,t.each=i,t.eachKey=r,t.defaults=o,t.toArray=s,t.last=c,t.isTag=l,t.isScript=u,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():n.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document"),i=function(e){for(var t=a.querySelectorAll("script"),n=0;n<t.length;n++){var i=t[n];if(e.test(i.src))return i}},r=function(){return i(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:r,byRegexPattern:i}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),i=0;e.exports=function(e,t){var n="_runScript"+ ++i,r=new a((function(t,i){_satellite[n]=function(r){delete _satellite[n],new a((function(t){t(r.call(e.event.element,e.event,e.event.target,a))})).then(t,i)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:r}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-promise"),r=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return l(e)&&(t=a.replaceTokens(t,e.event)),s(t)?(n=new i((function(e,t){o[String(r)]={resolve:e,reject:t}})),t=c(t,r),r+=1):n=i.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-load-script"),i=n("@adobe/reactor-promise"),r=n("../../helpers/findPageScript").byRegexPattern,o={},s={},c=function(e){return s[e]||(s[e]=a(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var a=new RegExp(".*"+e+".*");n=r(a).getAttribute("src")}o[n]=t},e.exports=function(e){return o[e]?i.resolve(o[e]):new i((function(t){c(e).then((function(){t(o[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),r=-1!==a.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,o],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};l.forEach((function(e){d[e]=[]}));var f=function(e,t){l.slice(0,p(e)+1).forEach((function(e){m(t,e)}))},g=function(){return"complete"===i.readyState?o:"interactive"===i.readyState?r?null:s:void 0},p=function(e){return l.indexOf(e)},m=function(e,t){d[t].forEach((function(t){v(e,t)})),d[t]=[]},v=function(e,t){var n=t.trigger,a=t.syntheticEventFn;n(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=f.bind(null,c),i.addEventListener("DOMContentLoaded",f.bind(null,s),!0),a.addEventListener("load",f.bind(null,o),!0),a.setTimeout((function(){var e=g();e&&f(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,i)})},registerWindowLoadedTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:u.bind(null,a)})}}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var a=n("./weakMap"),i=n("./matchesProperties"),r=n("./matchesSelector");e.exports=function(){var e=[],t=new a,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,a){if(e.length&&!t.has(n)){for(var o=n.target,s=!1;o;){for(var c=!1,l=!1,u=0;u<e.length;u++){var d=e[u],f=d.settings.elementSelector,g=d.settings.elementProperties;if((!1!==d.settings.bubbleFireIfChildFired||!s)&&(o===n.target||!1!==d.settings.bubbleFireIfParent)&&(o===n.target||f||g&&Object.keys(g).length)&&(!f||r(o,f))&&(!g||i(o,g))){var p={};a?Object.keys(n).forEach((function(e){p[e]=n[e]})):p.nativeEvent=n,p.element=o,p.target=n.target,!1!==d.callback(p)&&(l=!0,d.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),o=o.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window").WeakMap;if(void 0===a){var i=Object.defineProperty,r=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:i(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=a}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var a=n("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=i(e,t.name),r=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return a(n,r)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return a.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}}}},"medallia-for-adobe-launch":{displayName:"Medallia for Adobe Launch",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPcc347eb08ac24aa08b6ef636b08d3508/",settings:{dataIsolation:!1},modules:{"medallia-for-adobe-launch/lib/dataElements/form-type.js":{name:"form-type",displayName:"Form Type",script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=(void 0===t?{}:t).eventData,i="Form_Type";return a.getExtensionSettings().dataIsolation?n?n[i]:null:sessionStorage.getItem(i)}}},"medallia-for-adobe-launch/lib/dataElements/event-name.js":{name:"event-name",displayName:"Event Name",script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=(void 0===t?{}:t).eventData,i="Event_Name";return a.getExtensionSettings().dataIsolation?n?n[i]:null:sessionStorage.getItem(i)}}},"medallia-for-adobe-launch/lib/dataElements/feedback-uuid.js":{name:"feedback-uuid",displayName:"Feedback UUID",script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=(void 0===t?{}:t).eventData,i="Feedback_UUID";return a.getExtensionSettings().dataIsolation?n?n[i]:null:sessionStorage.getItem(i)}}},"medallia-for-adobe-launch/lib/dataElements/form-id.js":{name:"form-id",displayName:"Form Id",script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=(void 0===t?{}:t).eventData,i="Form_ID";return a.getExtensionSettings().dataIsolation?n?n[i]:null:sessionStorage.getItem(i)}}},"medallia-for-adobe-launch/lib/events/invite-displayed.js":{name:"invite-displayed",displayName:"Invite Displayed",script:function(e,t,n){"use strict";e.exports=function(e,t){n("../shared/events-generator")({eventName:"MDigital_Invite_Displayed",sessionStorageValue:"Invite Displayed",trigger:t})}}},"medallia-for-adobe-launch/lib/events/form-displayed.js":{name:"form-displayed",displayName:"Form Displayed",script:function(e,t,n){"use strict";e.exports=function(e,t){n("../shared/events-generator")({eventName:"MDigital_Form_Displayed",sessionStorageValue:"Form Displayed",trigger:t})}}},"medallia-for-adobe-launch/lib/events/survey-completed.js":{name:"survey-completed",displayName:"Survey Completed",script:function(e,t,n){"use strict";e.exports=function(e,t){n("../shared/events-generator")({eventName:"MDigital_Submit_Feedback",sessionStorageValue:"Survey Completed",trigger:t})}}},"medallia-for-adobe-launch/lib/events/invite-accepted.js":{name:"invite-accepted",displayName:"Invite Accepted",script:function(e,t,n){"use strict";e.exports=function(e,t){n("../shared/events-generator")({eventName:"MDigital_Invite_Accepted",sessionStorageValue:"Invite Accepted",trigger:t})}}},"medallia-for-adobe-launch/lib/actions/load-medallia-digital.js":{name:"load-medallia-digital",displayName:"Load Medallia Digital",script:function(e){"use strict";e.exports=function(e){var t=document.createElement("script");t.src=e.medallia_digital_asset||"",t.type="text/javascript",t.async=!0,document.body.appendChild(t)}}},"medallia-for-adobe-launch/lib/shared/events-generator.js":{script:function(e,t,n,a){"use strict";e.exports=function(e){var t=e.eventName,n=e.sessionStorageValue,i=e.trigger;window.addEventListener(t,(function(e){var t=a.getExtensionSettings().dataIsolation,r=e.detail,o={};if(t?o.Event_Name=n:sessionStorage.setItem("Event_Name",n),r){var s=function(e){var n=r[e],a="",i="";"Content"===e&&n?n.forEach((function(e){(e.value||0===e.value)&&(a=e.unique_name,i=e.value)})):(a=e,i=n),t?o[a]=i:sessionStorage.setItem(a,i)};for(var c in r)s(c);i({eventData:o})}}))}}}}},"mapping-table":{displayName:"Mapping Table",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/",modules:{"mapping-table/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:function(e,t,n,a){"use strict";e.exports=function(e){if(null!=e){var t=e.dataElement;i();try{for(var n=0;n<e.size;n++){var r=e[n].method,o=e[n].output,s=e[n].input;if("exact match"===r){if(t===s)return o}else if("exact match i"===r){if("boolean"==typeof t)continue;if(t.toLowerCase()===s.toLowerCase())return o}else if("starts with"===r){if("boolean"==typeof t)continue;if(t.startsWith(s))return o}else if("contains"===r){if("boolean"==typeof t)continue;if(t.indexOf(s)>-1)return o}else if("regex"===r){
if("boolean"==typeof t)continue;if(new RegExp(s).test(t))return o}else if("regex matching"===r){if("boolean"==typeof t)continue;var c=t.match(new RegExp(s));if(null!==c){for(var l=c.length-1;l>=1;l--)o=o.split("$"+l).join(c[l]);return o}}else if("is true"===r){if(!0===t)return o}else if("is false"===r&&!1===t)return o}}catch(e){a.logger.error("Error during evaluation: "+e.message)}if(!0===e.defaultValueEmpty)return;return t}};var i=function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})}}}}}},company:{orgId:"8F9767C25245B3230A490D4C@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Online Banking (Vue JS | MVG | Alloy)",settings:{domains:["cibc.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PRf579e97394e44a1f9f667f99d4b7c28d"},rules:[{id:"RL02c7d798cde84101ab4981ea478eb61d",name:"GA4 - Event - Advertising Impression",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.advertisingImpression",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCf4662a1498e948b6ad5a21e1c1065afc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLffab9b9d59ad4221b5d1045195e1fcfc",name:"AEP - Custom Action",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!window.digitalData.events.pageView)return!0}}},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.conversationInteraction",value:"true",valueIsRegex:!0},negate:!0}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_interaction_events%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RLb36cfea677b7468592fd2e9a673a2f4c",name:"All Pages - Load Universal Libraries",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:20}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Twitter universal website tag code -->\n<script>\n!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);\n},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',\na=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');\n// Insert Twitter Pixel ID and Standard Event data below\ntwq('init','nua8u');\ntwq('track','PageView');\n</script>\n<!-- End Twitter universal website tag code -->\n<!-- Facebook Pixel Code -->\n<script>\n!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window,\ndocument,'script',\n'//connect.facebook.net/en_US/fbevents.js');\nfbq('init', '284592808392980');\nfbq('init', '1478310479108228');\nfbq('track', \"PageView\");\n</script>\n<!-- End Facebook Pixel Code -->\n<!-- LinkedIn Pixel Code -->\n<script type=\"text/javascript\">\n_linkedin_partner_id = \"9459\";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n</script><script type=\"text/javascript\">\n(function(){var s = document.getElementsByTagName(\"script\")[0];\nvar b = document.createElement(\"script\");\nb.type = \"text/javascript\";b.async = true;\nb.src = \"https://snap.licdn.com/li.lms-analytics/insight.min.js\";\ns.parentNode.insertBefore(b, s);})();\n</script>\n<!-- End LinkedIn Pixel Code -->",language:"html"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function(w, d, t, r, u) {\n    var f, n, i;\n    w[u] = w[u] || [], f = function() {\n        var o = {\n            ti: "5175562"\n        };\n        o.q = w[u], w[u] = new UET(o), w[u].push("pageLoad")\n    }, n = d.createElement(t), n.src = r, n.async = 1, n.onload = n.onreadystatechange = function() {\n        var s = this.readyState;\n        s && s !== "loaded" && s !== "complete" || (f(), n.onload = n.onreadystatechange = null)\n    }, i = d.getElementsByTagName(t)[0], i.parentNode.insertBefore(n, i)\n})(window, document, "script", "//bat.bing.com/bat.js", "uetq");',language:"javascript"}}]},{id:"RL6700bccf9bdc4ab28eb0b13ff3ccd9a7",name:"MP: CIBCOLB \u2013 Reset Password Application Page - FR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_page_language%",rightOperand:"fr"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"reset-password"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"details"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCcd90a0e7587a4603a177c886371ceb84-source.min.js",language:"html",isExternal:!0}}]},{id:"RL28ee0285e46540dbb6c9b0b44d9033df",name:"AEP - Medallia - Feedback Invite Prompt",events:[{modulePath:"medallia-for-adobe-launch/lib/events/invite-displayed.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_medallia_survey_invited%",type:"web.webinteraction.linkClicks",instanceName:"alloy",documentUnloading:!0}}]},{id:"RL6b01585ec3564d9f9dd0aec66547715d",name:"MP: CIBCOLB \u2013 Online Banking Registration Application Page - EN",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_page_language%",rightOperand:"en"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"register-olb"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"details"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCe0965d67ab124ca5bb217ac83b9f554b-source.min.js",language:"html",isExternal:!0}}]},{id:"RL6e7d0ae101e747d19e07d6832c3ce2c1",name:"MP: CIBCOLB \u2013 Reset Password Confirmation Page - FR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_page_language%",rightOperand:"fr"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"reset-password"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"confirmation"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC3138fc78fe564f3d839e31419c5f66d5-source.min.js",language:"html",isExternal:!0}}]},{id:"RL20c5e7ed544544858fec7ea8ee730702",name:"GA4 - Medallia - Feedback Form Displayed",events:[{modulePath:"medallia-for-adobe-launch/lib/events/form-displayed.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCadede5c25fce49038d74974b92f0ce74-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d1808c5a8a0401c856704fe5a1b9ae7",name:"MP: CIBCOLB \u2013 Online Banking Registration Confirmation Page - EN",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_page_language%",rightOperand:"en"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"register-olb"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"confirmation"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCeb38e34a03d34641a22b0a6f1c3ce982-source.min.js",language:"html",isExternal:!0}}]},{id:"RLb4e48c4c711749ab881a7513686dc9df",name:"MP: CIBCOLB \u2013 Online Banking Registration Application Page - FR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_page_language%",rightOperand:"fr"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"register-olb"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"details"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC1bdf40ec3ce64eb2a4c861ad63f6f4ae-source.min.js",language:"html",isExternal:!0}}]},{id:"RLbca5e89c8022420889cc650813c5bee4",name:"MP: CIBCOLB \u2013 Reset Password Application Page - EN",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_page_language%",rightOperand:"en"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"reset-password"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"details"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCb85d3f0ce3964f868c7d43574b295e9a-source.min.js",language:"html",isExternal:!0}}]},{id:"RLf09d2bd5a0514c6fa7964828c6364a78",name:"MP: CIBCOLB \u2013 Online Banking Registration Confirmation Page - FR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_page_language%",rightOperand:"fr"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"register-olb"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"confirmation"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCa09767ffa219481e9e7d6b0be3cd3443-source.min.js",language:"html",isExternal:!0}}]},{id:"RLdc7a26d91fc24236a3b681444ce44a40",name:"GA4 - Medallia - Feedback Form Submitted",events:[{modulePath:"medallia-for-adobe-launch/lib/events/survey-completed.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC545550e2e4c24d29aef1d66492f0062a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLceaa7ed0ef9441e98385ff5c87fa28b2",name:"AEP - Medallia - Feedback Form Submitted",events:[{modulePath:"medallia-for-adobe-launch/lib/events/survey-completed.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_medallia_survey_submitted%",type:"web.webinteraction.linkClicks",instanceName:"alloy",documentUnloading:!0}}]},{id:"RLcf55c4d1747049308aae45fadd0d065b",name:"GA4 - Event - Errors",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.error",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC61ed12ac994240aa82fbc959ab23a675-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a4fe17a50e44eac8e4bd3458e0195ba",name:"GA4 - All Pages Configuration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:6}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC66b035eb0fb6472ea4d72e8d956c6f38-source.min.js",language:"html",isExternal:!0}}]},{id:"RL1e060d9bb2a84e2bb4df09bfcc31be7d",name:"GA4 - Medallia - Feedback Invite Accepted",events:[{modulePath:"medallia-for-adobe-launch/lib/events/invite-accepted.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC47963bffeca84369a29603997c360a56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe022a3df187c4d8c9f92cef0204ee996",name:"AEP - Conversation Interaction - Chatbot",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.conversationInteraction",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_conversation_interaction_event%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL2d65ddc1cbe849e2b9cd83bbb924ccb3",name:"AEP - Page View",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.pageView",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_pageview_events%",type:"web.webpagedetails.pageViews",instanceName:"alloy"}}]},{id:"RLf1813f04ea044dd1a58a1754d25a80f5",name:"GA4 - Medallia - Feedback Invite Prompt",events:[{modulePath:"medallia-for-adobe-launch/lib/events/invite-displayed.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCc4b6b8405fb9475f8e4975cf7807bf2c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL87b73cf814e24eb3a145b8a83ceefd40",name:"AEP - Medallia - Feedback Form Displayed",events:[{modulePath:"medallia-for-adobe-launch/lib/events/form-displayed.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_medallia_survey_displayed%",type:"web.webinteraction.linkClicks",instanceName:"alloy",documentUnloading:!0}}]},{id:"RL12ebdbd41e394d049be2321ed496644a",name:"GA4 - Event - Exits",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.exit",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCf7a4e4ae007e4f8babc141989afc493b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL944cc9a615ae4bb8a796eadc981fadb0",name:"GA4 - Event - Advertising Click",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.advertisementClick",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC2dc31154408e4594850c0cb42550bb9a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL10b0e8ba510d4365bcb48b3d6dc4e54b",name:"Internal Campaign Links",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[data-utc]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!this.getAttribute("data-utc").startsWith("C")||(_satellite.logger.info("Could not capture campaign value"),!1)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCfae437d8ae36445d84f6fa8f9f97d7cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL315e0aa4f15046aa9cc04defcefdb48b",name:"All Pages - Internal Campaign Links",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[data-utc]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!this.getAttribute("data-utc").startsWith("C")||(_satellite.logger.info("Could not capture campaign value"),!1)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC99393321d8184da48e3593dac530ad20-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL52ff79ac1e8c42ae83c5c116ff28e2a5",name:"GA4 - Event - Login",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.login",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCb0fa1fcbb67d4b438a77acc3df6d2083-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfcd642b234184e86892779f1919ea184",name:"GA4 - Event - Chatbot Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.conversationInteraction",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCa77e0099a1114717801fe54d5e43901a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL354c4fbc281e4493a9368bb5a8e65581",name:"AEP - Medallia - Feedback Invite Accepted",events:[{modulePath:"medallia-for-adobe-launch/lib/events/invite-accepted.js",settings:{},ruleOrder:88}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep_xdm_experience_medallia_survey_accepted%",type:"web.webinteraction.linkClicks",instanceName:"alloy",documentUnloading:!0}}]},{id:"RL6262abe794f442348e969dce4bbcf97d",name:"GA4 - Event - Site Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.siteInteraction",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC76c8f130f21b41adac7a3ab869c9cb09-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb0b800b827834104a0f851217d2060b8",name:"GA4 - Event - File Downloads",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.download",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC7d032d3be9c246e5b83000818280f401-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL50df8281fe63477eaf5121a290720256",name:"GA4 - Page View",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"digitalData.events.pageView",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RCc6a510a9c4474572b3081b520a17e9af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc28b99c542947c7a419674d5b8d0a32",name:"Medallia - Load Medallia Digital",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.document.location.pathname",value:"/ebm-resources/public/banking/cibc/client/web/index.html",valueIsRegex:!0}}],actions:[{modulePath:"medallia-for-adobe-launch/lib/actions/load-medallia-digital.js",settings:{medallia_digital_asset:"https://resources.digital-cloud.medallia.ca/wdccan/76/onsite/embed.js"}}]},{id:"RL2471dbd96f6e454cb6914f66ad7c9745",name:"MP: CIBCOLB \u2013 Reset Password Confirmation Page - EN",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData_page_language%",rightOperand:"en"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_name%",rightOperand:"reset-password"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData_form_step_name%",rightOperand:"confirmation"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/986cf825ecbc/7a9f9c9eb143/89d326eda7c8/RC161f4bae405f48ab86434dcfaad70c01-source.min.js",language:"html",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})})),t}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function r(e){return Boolean(e&&void 0!==e.length)}function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void d(t.promise,e)}u(t.promise,a)}else(1===e._state?u:d)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void p(s(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function g(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}function m(e){return!0===Me(e)&&"[object Object]"===Object.prototype.toString.call(e)}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function h(e){return e.substr(0,e.indexOf("["))}function b(e,t,n){if(e.length&&Fe(t)){var a=e[0];if(1!==e.length){var i=e.slice(1);if(!_(a))return b(i,t[a],n);var r=t[a=h(a)];Array.isArray(r)&&r.forEach((function(e){return b(i,e,n)}))}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var y=document,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,P=t()?Object.assign:function(t){for(var n,a,i=e(t),r=1;r<arguments.length;r++){for(var o in n=Object(arguments[r]))D.call(n,o)&&(i[o]=n[o]);if(w){a=w(n);for(var s=0;s<a.length;s++)C.call(n,a[s])&&(i[a[s]]=n[a[s]])}}return i},j=P,E=window,I=function(e,t,n,a){var i,r=Boolean(t&&Array.isArray(n)),o=Boolean(r&&e),s=document.createElement("a");if(r){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=E.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=i)return i;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),i=s.protocol+"//"+e}else i="";return i},d=function(e){return o&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},f={getTurbineHost:u,decorateWithDynamicHost:d,get isDynamicEnforced(){return r}};return E&&a.onDebugChanged((function(e){e?E.dynamicHostResolver=f:delete E.dynamicHostResolver})),f},x=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},S="debug",V=function(e,t){var n=function(){return"true"===e.getItem(S)},a=function(t){e.setItem(S,t)},i=[],r=function(e){i.push(e)};return t.outputEnabled=n(),{onDebugChanged:r,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(a(e),t.outputEnabled=e,i.forEach((function(t){t(e)})))}}},k="Module did not export a function.",O=function(e,t,n){return function(a,i,r){r=r||[];var o=e.getModuleExports(a.modulePath);if("function"!=typeof o)throw new Error(k);var s=e.getModuleDefinition(a.modulePath),c=a.settings||{};!a.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var l=t(c,i);return o.bind(null,l).apply(null,r)}},R=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},T={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},A="\ud83d\ude80",N=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":A,B=!1,L=function(e){if(B&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(N),e!==T.DEBUG||window.console[e]||(e=T.INFO),window.console[e].apply(window.console,t)}},q=L.bind(null,T.LOG),M=L.bind(null,T.INFO),F=L.bind(null,T.DEBUG),U=L.bind(null,T.WARN),z=L.bind(null,T.ERROR),H=function(){var e=B;B=!0,L.apply(null,Array.prototype.concat(T.WARN,Array.prototype.slice.call(arguments))),e||(B=!1)},G={log:q,info:M,debug:F,warn:U,error:z,deprecation:H,get outputEnabled(){return B},set outputEnabled(e){B=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:q.bind(null,t),info:M.bind(null,t),debug:F.bind(null,t),warn:U.bind(null,t),error:z.bind(null,t)}}},W="com.adobe.reactor.",Q=function(e,t){var n=W+(t||"");return{getItem:function(t){try{return E[e].getItem(n+t)}catch(e){return null}},setItem:function(t,a){try{return E[e].setItem(n+t,a),!0}catch(e){return!1}}}},J="dataElements.",$=Q("sessionStorage",J),X=Q("localStorage",J),Y={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},Z={},K=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,n){var a;switch(t){case Y.PAGEVIEW:return void(Z[e]=n);case Y.SESSION:return void((a=K(n))&&$.setItem(e,a));case Y.VISITOR:return void((a=K(n))&&X.setItem(e,a))}},getValue:function(e,t){var n;switch(t){case Y.PAGEVIEW:return Z.hasOwnProperty(e)?Z[e]:null;case Y.SESSION:return null===(n=$.getItem(e))?n:JSON.parse(n);case Y.VISITOR:return null===(n=X.getItem(e))?n:JSON.parse(n)}}},te=function(e,t,n,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(a?"\n"+a:"")},ne=function(e,t,n,a,i){return function(r,o){var s=t(r);if(!s)return a?"":void 0;var c,l,u=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void G.error(te(s,r,e.message,e.stack))}if("function"==typeof c){var d,f=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(i(f,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(f,o),o)}catch(e){return void G.error(te(s,r,e.message,e.stack))}return u&&(null!=d?ee.setValue(r,u,d):d=ee.getValue(r,u)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=R(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}G.error(te(s,r,"Module did not export a function."))}},ae={text:function(e){return e.textContent},cleanText:function(e){return R(e.textContent)}},ie=function(e,t,n){for(var a,i=e,r=0,o=t.length;r<o;r++){if(null==i)return;var s=t[r];if(n&&"@"===s.charAt(0)){var c=s.slice(1);i=ae[c](i)}else if(i.getAttribute&&(a=s.match(/^getAttribute\((.+)\)$/))){var l=a[1];i=i.getAttribute(l)}else i=i[s]}return i},re=function(e,t,n){return function(a,i){var r;if(t(a))r=n(a,i);else{var o=a.split("."),s=o.shift();"this"===s?i&&(r=ie(i.element,o,!0)):"event"===s?i&&(r=ie(i,o)):"target"===s?i&&(r=ie(i.target,o)):r=ie(e[s],o)}return r}},oe=function(e,t){return function(n){var a=n.split(".")[0];return Boolean(t(n)||"this"===a||"event"===a||"target"===a||e.hasOwnProperty(a))}},se=function(e,t,n){var a={exports:{}};return e.call(a.exports,a,a.exports,t,n),a.exports},ce=function(){var e={},t=function(t){var n=e[t]
;if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{a(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");G.error(t)}}))},a=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=se(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,a,i,r){var o={definition:n,extensionName:a,require:i,turbine:r};o.require=i,e[t]=o},hydrateCache:n,getModuleExports:a,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},le=!1,ue=function(e){return function(t,n){var a=e._monitors;a&&(le||(G.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),le=!0),a.forEach((function(e){e[t]&&e[t](n)})))}},de=function(e,t,n){var a,i,r,o,s=[],c=function(a,i,r){if(!e(i))return a;s.push(i);var o=t(i,r);return s.pop(),null==o&&n?"":o};return a=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},i=function(e,t){for(var n={},a=Object.keys(e),i=0;i<a.length;i++){var r=a[i],s=e[r];n[r]=o(s,t)}return n},r=function(e,t){for(var n=[],a=0,i=e.length;a<i;a++)n.push(o(e[a],t));return n},o=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?i(e,t):e},function(e,t){return s.length>10?(G.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},fe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(o);return l(this,new g(e,t,n)),n},c.prototype.finally=i,c.all=function(e){return new c((function(t,n){function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){a(e,t)}),n)}i[e]=r,0==--o&&t(i)}catch(e){n(e)}}if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,s=0;s<i.length;s++)a(s,i[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var a=0,i=e.length;a<i;a++)c.resolve(e[a]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){pe(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var me=n(Object.freeze({__proto__:null,default:c})),ve="undefined"!=typeof window&&window.Promise||void 0!==ge&&ge.Promise||me.default||me,_e=function(e,t,n){return function(a,i,r,o){return o.then((function(){var o,s=a.delayNext;return new ve((function(t,n){var i=e(a,r,[r]);if(!s)return t();var c=a.timeout,l=new ve((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));ve.race([i,l]).then(t,n)})).catch((function(e){return clearTimeout(o),e=t(e),n(a,i,e),ve.reject(e)})).then((function(){clearTimeout(o)}))}))}},he=function(e,t,n,a,i){return function(r,o,s,c){return c.then((function(){var c;return new ve((function(t,n){var a=e(r,s,[s]),i=r.timeout,o=new ve((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+i/1e3+" seconds to complete. "))}),i)}));ve.race([a,o]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),a(r,o,e),ve.reject(e)})).then((function(e){if(clearTimeout(c),!n(r,e))return i(r,o),ve.reject()}))}))}},be=ve.resolve(),ye=function(e,t,n){return function(a,i){return a.conditions&&a.conditions.forEach((function(t){be=e(t,a,i,be)})),a.actions&&a.actions.forEach((function(e){be=t(e,a,i,be)})),be=(be=be.then((function(){n(a)}))).catch((function(){}))}},we=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},De=function(e,t,n,a){return function(i,r){var o;if(i.conditions)for(var s=0;s<i.conditions.length;s++){o=i.conditions[s];try{var c=e(o,r,[r]);if(we(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,c))return n(o,i),!1}catch(e){return a(o,i,e),!1}}return!0}},Ce=function(e,t){return function(n,a){e(n,a)&&t(n,a)}},Pe=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},je=function(e){return function(t){var n=t.rule,a=t.event,i=e.getModuleDefinition(a.modulePath).name;return{$type:e.getModuleExtensionName(a.modulePath)+"."+i,$rule:{id:n.id,name:n.name}}}},Ee=function(e,t,n,a,i,r){return function(o,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var u=i(s);t(l,null,[function(t){var a=n(u,t);o((function(){e(a,c)}))}])}catch(e){r.error(a(l,c,e))}}},Ie=function(e,t,n,a){return function(i,r,o){var s=t(i);n.error(e(s,r.name,o)),a("ruleActionFailed",{rule:r,action:i})}},xe=function(e,t,n,a){return function(i,r,o){var s=t(i);n.error(e(s,r.name,o)),a("ruleConditionFailed",{rule:r,condition:i})}},Se=function(e,t,n){return function(a,i){var r=e(a);t.log('Condition "'+r+'" for rule "'+i.name+'" was not met.'),n("ruleConditionFailed",{rule:i,condition:a})}},Ve=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},ke=function(e,t,n){return function(a,i){var r;if(a.actions)for(var o=0;o<a.actions.length;o++){r=a.actions[o];try{e(r,i,[i])}catch(e){return void t(r,a,e)}}n(a)}},Oe=function(e,t,n,a){return function(i,r){a("ruleTriggered",{rule:r}),e?n(r,i):t(r,i)}},Re=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Te=function(e,t){return t&&!e.negate||!t&&e.negate},Ae=[],Ne=!1,Be=function(e){Ne?e():Ae.push(e)},Le=function(e,t,n){e(t).forEach((function(e){n(Be,e)})),Ne=!0,Ae.forEach((function(e){e()})),Ae=[]},qe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Me=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Fe=function(e){var t,n;return!1!==m(e)&&("function"==typeof(t=e.constructor)&&(!1!==m(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},Ue=function(e,t){return Fe(t=t||{})?t=j({},t,e):j(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return G.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},ze=function(e,t){return function(n,a){var i=e[n];if(i){var r=i.modules;if(r)for(var o=Object.keys(r),s=0;s<o.length;s++){var c=o[s],l=r[c];if(l.shared&&l.name===a)return t.getModuleExports(c)}}}},He=function(e,t){return function(){return t?e(t):{}}},Ge=function(e,t,n){return function(a){if(n){var i=a.split(".");i.splice(i.length-1||1,0,"min"),a=i.join(".")}return e(t)+a}},We=".js",Qe=function(e){return e.substr(0,e.lastIndexOf("/"))},Je=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},$e=function(e,t){Je(t,We)||(t+=We);var n=t.split("/"),a=Qe(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))})),a.join("/")},Xe=a((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,a=window.Cookies=t();a.noConflict=function(){return window.Cookies=n,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(a){function i(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var s=r[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(a.read||a)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[l]=c,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=r,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){r(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n((function(){}))}))})),Ye={get:Xe.get,set:Xe.set,remove:Xe.remove},Ze=function(e,t){return new ve((function(n,a){t.onload=function(){n(t)},t.onerror=function(){a(new Error("Failed to load script "+e))}}))},Ke=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Ze(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},et=function(e,t,n,a){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var r=/\+/g;e=e.split(t);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var c=0;c<s;++c){var l,u,d,f,g=e[c].replace(r,"%20"),p=g.indexOf(n);p>=0?(l=g.substr(0,p),u=g.substr(p+1)):(l=g,u=""),d=decodeURIComponent(l),f=decodeURIComponent(u),v(i,d)?Array.isArray(i[d])?i[d].push(f):i[d]=[i[d],f]:i[d]=f}return i},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},nt=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(tt(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(tt(e))})).join(t):i+encodeURIComponent(tt(e[a]))})).join(t):a?encodeURIComponent(tt(a))+n+encodeURIComponent(tt(e)):""},at=a((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=nt})),it="@adobe/reactor-",rt={cookie:Ye,document:y,"load-script":Ke,"object-assign":j,promise:ve,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),at.parse(e)},stringify:function(e){return at.stringify(e)}},window:E},ot=function(e){return function(t){if(0===t.indexOf(it)){var n=t.substr(it.length),a=rt[n];if(a)return a}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,n,a,i,r,o){var s=e.extensions,c=e.buildInfo,l=e.environment,u=e.property.settings;if(s){var d=ze(s,t);Object.keys(s).forEach((function(f){var g=s[f],p=g.settings;Array.isArray(g.filePaths)&&(p=r(p,g.filePaths));var m=He(a,p);if(g.modules){var v=G.createPrefixedLogger(g.displayName),_=Ge(o,g.hostedLibFilesBaseUrl,c.minified),h={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:i,getExtensionSettings:m,getHostedLibFileUrl:_,getSharedModule:d,logger:v,propertySettings:u,replaceTokens:a,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(g.modules).forEach((function(e){var n=g.modules[e],a=ot((function(n){var a=$e(e,n);return t.getModuleExports(a)}));t.registerModule(e,n,f,a,h)}))}})),t.hydrateCache()}return t},ct=function(e,t,n,a,i){var r=G.createPrefixedLogger("Custom Script");e.track=function(e){G.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(G.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=a,e.setVar=i,e.setCookie=function(e,t,n){var a="",i={};n&&(a=", { expires: "+n+" }",i.expires=n);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";G.deprecation(r),Ye.set(e,t,i)},e.readCookie=function(e){return G.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Ye.get(e)},e.removeCookie=function(e){G.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Ye.remove(e)},e.cookie=Ye,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(G.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},lt=function(e,t){return function(n,a,i){return e&&Fe(n)&&Object.keys(n).length&&Array.isArray(a)&&a.length?(a.forEach((function(e){Boolean(null!=i&&/^core\/.*actions.*\/customCode\.js$/.test(i))&&"source"===e&&!n.isExternal||b(e.split("."),n,t)})),n):n}},ut=window._satellite;if(ut&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var dt=ut.container;delete ut.container;var ft=j({},dt.buildInfo);Object.defineProperty(ft,"environment",{get:function(){return G.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),dt.environment.stage}}),dt.buildInfo=ft;var gt,pt=V(Q("localStorage"),G),mt="";y.currentScript&&y.currentScript.getAttribute("src")&&(mt=y.currentScript.getAttribute("src"));try{gt=I(mt,Boolean(dt.company.dynamicCdnEnabled),dt.company.cdnAllowList,pt)}catch(e){throw G.warn("Please review the following error:"),e}var vt,_t=lt(gt.isDynamicEnforced,gt.decorateWithDynamicHost),ht=ce(),bt=dt.property.settings.undefinedVarsReturnEmpty,yt=dt.property.settings.ruleComponentSequencingEnabled,wt=dt.dataElements||{},Dt=function(e){return wt[e]},Ct=function(){return vt.apply(null,arguments)},Pt=ne(ht,Dt,Ct,bt,_t),jt={},Et=fe(jt),It=oe(jt,Dt),xt=re(jt,Dt,Pt);vt=de(It,xt,bt),ct(ut,dt,pt.setDebugEnabled,xt,Et),st(dt,ht,pt,vt,Pt,_t,gt.decorateWithDynamicHost);var St=ue(ut),Vt=O(ht,vt,_t),kt=Pe(ht),Ot=Se(kt,G,St),Rt=xe(Re,kt,G,St),Tt=Ie(Re,kt,G,St),At=Ve(G,St),Nt=Ee(Oe(yt,Ce(De(Vt,Te,Ot,Rt),ke(Vt,Tt,At)),ye(he(Vt,qe,Te,Rt,Ot),_e(Vt,qe,Tt),At),St),Vt,Ue,Re,je(ht),G);Le(x,dt.rules||[],Nt)}return ut}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();